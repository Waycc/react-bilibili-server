(this["webpackJsonpreact-hook-bilibili2"]=this["webpackJsonpreact-hook-bilibili2"]||[]).push([[0],{33:function(e,t,a){e.exports=a(57)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),i=a.n(c);a(38);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var l=r.a.createElement("defs",null,r.a.createElement("style",null)),s=r.a.createElement("path",{d:"M1775.84 322.588c6.017 1.003 53.146-9.526 55.151-6.016 3.008 4.512 24.066 155.925 18.55 156.927s-44.62 10.028-44.62 10.028c-3.01-20.556-28.579-147.903-29.08-160.939m75.205-14.54l20.556 162.945c10.529-.502 53.145-3.51 57.156-4.011-6.017-61.668-16.545-158.934-16.545-158.934-20.055-4.01-41.113-4.01-61.167 0m-40.61 226.117s92.752-23.564 126.344-12.033c17.046 61.668 48.13 407.611 51.139 421.65-21.057 2.506-90.246 8.523-95.761 10.027-4.512-26.071-81.723-403.1-81.723-419.644m343.436-207.566c5.515 1.504 54.65-5.014 55.15-1.504 1.003 12.033 6.017 157.429.502 157.93s-44.622 4.011-44.622 4.011c-1.002-20.054-12.032-146.9-11.03-160.437m75.707-4.011l4.01 160.939c10.53 0 52.644 2.507 57.156 2.005-1.002-61.668 0-158.933 0-158.933-20.054-3.51-40.61-5.014-61.166-4.011M2164.9 538.677s94.759-12.534 126.846 2.507c7.02 72.197 6.017 408.614 7.02 422.652-21.56 0-90.247 1.003-95.762 2.005-1.003-26.07-39.608-410.619-38.104-427.164m-220.1-413.627c54.65 278.76 96.263 755.058 97.767 785.641 0 0 43.117 1.003 91.75 4.011-28.578-300.319-63.674-780.127-63.172-795.669-12.033-13.537-126.345 6.017-126.345 6.017m-120.328 659.297c-10.528-78.213-290.29-166.955-447.72-138.377 0 0-19.553-172.47-27.074-339.426-6.518-143.39-1.003-282.77.501-305.833-10.528-7.52-123.837 46.627-185.004 69.188 0 0 73.2 309.845 126.345 952.597 0 0 84.73 9.025 230.127-19.052s317.365-115.816 302.825-219.097M1482.541 925.23l-24.567-176.983c6.017-3.008 156.928 53.145 172.972 63.173-2.507 11.03-148.405 113.81-148.405 113.81M610.665 322.588c6.016 1.003 53.144-9.526 55.15-6.016 3.008 4.512 24.066 155.925 18.55 156.927s-44.621 10.028-44.621 10.028c-3.008-20.556-28.578-147.903-29.08-160.939m75.206-14.54l20.556 162.945c10.528-.502 53.145-3.51 57.155-4.011-6.517-61.668-16.545-158.934-16.545-158.934-20.054-4.01-41.112-4.01-61.166 0m-40.611 226.117s92.753-23.564 126.344-12.033c17.047 61.668 48.132 407.611 51.14 421.65-21.058 2.506-90.246 8.523-95.761 10.027-4.513-26.071-81.723-403.1-81.723-419.644m343.436-207.566c5.515 1.504 54.65-5.014 55.15-1.504 1.003 12.033 6.017 157.429.502 157.93s-44.622 4.011-44.622 4.011c-1.003-20.054-11.531-146.9-11.03-160.437m75.706-4.011l4.011 160.939c10.53 0 52.644 2.507 57.156 2.005-1.003-61.668 0-158.933 0-158.933-20.054-3.51-40.61-4.512-61.167-4.011m-64.676 216.089s94.758-12.534 126.846 2.507c7.02 72.197 6.016 408.614 7.02 422.652-21.56 0-90.247 1.003-95.762 2.005-.501-26.07-39.608-410.619-38.104-427.164m-220.1-413.627c54.65 278.76 96.263 755.058 97.767 785.641 0 0 43.117 1.003 91.75 4.011-28.578-300.319-63.674-780.127-63.172-796.17-12.033-13.036-126.345 6.518-126.345 6.518M659.297 784.347c-10.529-78.213-290.291-166.955-447.72-138.377 0 0-19.554-172.47-27.074-339.426-6.518-143.39-1.003-282.77.501-305.833C174.476-6.31 61.167 47.338 0 69.899c0 0 73.2 309.845 126.344 952.597 0 0 84.731 9.025 230.128-19.052s317.365-115.816 302.825-219.097M317.365 925.23l-24.567-176.983c6.017-3.008 156.928 53.145 172.972 63.173-2.507 11.03-148.405 113.81-148.405 113.81",fill:"#de698c"}),u=function(e){return r.a.createElement("svg",o({className:"BILIBILI_LOGO_svg__icon",viewBox:"0 0 2299 1024",width:449.023,height:200},e),l,s)};function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var f=r.a.createElement("defs",null,r.a.createElement("style",null)),d=r.a.createElement("path",{d:"M886.4 841.6l-192-192C739.2 595.2 768 524.8 768 448c0-176-144-320-320-320S128 272 128 448s144 320 320 320c76.8 0 147.2-25.6 201.6-73.6l192 192c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6c12.8-12.8 12.8-32 0-44.8zM448 704c-140.8 0-256-115.2-256-256s115.2-256 256-256 256 115.2 256 256-115.2 256-256 256z",fill:"#aaa"}),h=function(e){return r.a.createElement("svg",m({className:"search_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),f,d)};function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var v=r.a.createElement("path",{fill:"#e7e7e7",d:"M0 0h80v80H0z"}),E=r.a.createElement("path",{d:"M45.78 57.73h2.29a73.4 73.4 0 014.23 9.5 57.14 57.14 0 012.62 10.5 50.58 50.58 0 01-29.86 0 57.14 57.14 0 012.62-10.5 73.4 73.4 0 014.23-9.5h2.29l2.67 7.21 2.41-7.21h1.42l2.41 7.21zM31.72 18.51l4.87 4.87a1.8 1.8 0 010 2.55 1.8 1.8 0 01-2.55 0l-4.87-4.87a1.8 1.8 0 010-2.55 1.8 1.8 0 012.55 0zm16.85 0a1.8 1.8 0 012.55 0 1.8 1.8 0 010 2.55l-4.87 4.87a1.8 1.8 0 01-2.55 0 1.8 1.8 0 010-2.55z",fill:"#ccc"}),b=r.a.createElement("path",{"data-name":"Combined-Shape",d:"M24.2 24.22h31.6a7.2 7.2 0 017.2 7.2v20.12a7.2 7.2 0 01-7.2 7.2H24.2a7.2 7.2 0 01-7.2-7.2V31.42a7.2 7.2 0 017.2-7.2zm1 4a4.24 4.24 0 00-4.2 4.29v17.94a4.24 4.24 0 004.21 4.27h29.5A4.24 4.24 0 0059 50.45V32.51a4.24 4.24 0 00-4.21-4.27z",fill:"#ccc"}),g=r.a.createElement("path",{"data-name":"Combined-Shape",d:"M25.88 29.84h28.24a3.22 3.22 0 013.22 3.21v16.86a3.22 3.22 0 01-3.22 3.21H25.88a3.22 3.22 0 01-3.22-3.21V33.05a3.22 3.22 0 013.22-3.21zm0 .8a2.42 2.42 0 00-2.42 2.41v16.86a2.42 2.42 0 002.42 2.41h28.24a2.42 2.42 0 002.42-2.41V33.05a2.42 2.42 0 00-2.42-2.41z",fill:"#ccc"}),y=r.a.createElement("path",{"data-name":"Combined-Shape",d:"M26.73 40.1l7-3.1a1.81 1.81 0 111.48 3.3l-7 3.1a1.81 1.81 0 11-1.48-3.3zm26.54 0a1.81 1.81 0 11-1.48 3.3l-7-3.1a1.81 1.81 0 111.48-3.3zm-15.69 7.8c-1 0-1.9-.7-2.7-2a.8.8 0 01.26-1.11.81.81 0 011.11.26c.54.86 1 1.23 1.33 1.23s.79-.37 1.33-1.23a.81.81 0 011.37 0c.54.86 1 1.23 1.33 1.23s.79-.37 1.33-1.23a.81.81 0 011.11-.26.8.8 0 01.26 1.11c-.8 1.28-1.69 2-2.7 2a2.71 2.71 0 01-2-1.06 2.71 2.71 0 01-2.03 1.06z",fill:"#ccc"}),O=function(e){return r.a.createElement("svg",p({"data-name":"\\\\\\\\u56FE\\\\\\\\u5C42 1",viewBox:"0 0 80 80"},e),v,E,b,g,y)},w=(a(39),function(){return r.a.createElement("div",{className:"app-header"},r.a.createElement("a",{href:"/index",className:"app-header-logo"},r.a.createElement(u,{style:{width:"100%",height:"100%"}})),r.a.createElement("div",{className:"app-header-search"},r.a.createElement(h,{className:"header-search-icon"}),r.a.createElement("span",{className:"header-search-text"},"\u6211\u548c\u6211\u7684\u7956\u6211\u548c\u6211\u7684\u7956")),r.a.createElement("div",{className:"bili-tv-icon"},r.a.createElement(O,{style:{borderRadius:"50%"}})),r.a.createElement("div",{className:"app-header-download-button"},"\u4e0b\u8f7dApp"))}),j=a(15),N=a(28),k=a(6),_=a(12),x=a(10),P=a(18),B=a.n(P),C=(a(40),"/api/partitions"),L="/api/loc",A="/api/ranking",S="/api/ranking/region",z="/api/archive_rank/getarchiverankbypartion",M="/api/image";function T(e){var t=e.partitionList,a={tid:0,typename:"\u9996\u9875",children:[],isParent:!0},n=[a],r={0:a};return Object.keys(t).sort((function(e,t){return parseInt(e)-parseInt(t)})).forEach((function(e){var a=!1;0===parseInt(e)&&(a=!0),t[e].forEach((function(c){r[c.tid]=c,c.isParent=a,0===parseInt(e)&&(c.children=(t[c.tid]||[]).map((function(e){return e.parentId=c.tid,e})),c.children.unshift({tid:c.tid,typename:"\u63a8\u8350",isParent:!1,parentId:c.tid}),c.childrenIds=t[c.tid].map((function(e){return e.tid})),n.push(c))}))})),{channelBarList:n,channelBarMap:r}}function H(e){var t=!1;return(!e||Array.isArray(e)&&0===e.length||0===("object"===typeof e&&Object.keys(e).length))&&(t=!0),t}function I(e,t){var a=function(){var e=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),t=/(Android)/i.test(navigator.userAgent);return!0===e?".jpg":!0===t?".webp":".jpg"}();return"".concat(M,"?pic=").concat(e).concat(t+a)}function R(e){return e<1e4?e:"".concat((e/1e4).toFixed(1),"\u4e07")}function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var V=r.a.createElement("defs",null,r.a.createElement("style",null)),W=r.a.createElement("path",{d:"M472.064 751.552L72.832 352.32c-22.08-22.08-22.08-57.792 0-79.872 22.016-22.016 57.792-22.08 79.872 0L512 631.744l359.296-359.296c22.016-22.016 57.792-22.08 79.872 0s22.016 57.792 0 79.872L551.936 751.552c-22.08 22.016-57.792 22.016-79.872 0z",fill:"#aaa"}),D=function(e){return r.a.createElement("svg",F({className:"arrow_down_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),V,W)},X=B()("/channel/:rid"),U=Object(j.g)((function(e){var t=Object(_.c)(Object(n.useCallback)((function(e){return e.channelBar}),[])),a=t.channelBarList,c=void 0===a?[]:a,i=t.channelBarMap,o=void 0===i?{}:i,l=Object(n.useState)(!1),s=Object(k.a)(l,2),u=s[0],m=s[1],f=X.exec(e.location.pathname),d=0;f&&(d=parseInt(f[1]));var h=o[d]||{},p=h.children||[];h.isParent||(p=(o[h.parentId]||{}).children||[]);var v=function(e,t){return e===d||(t.childrenIds||[]).includes(d)};return r.a.createElement("div",{className:"channel-bar-container"},r.a.createElement("div",{className:"first-class-channel-container"},r.a.createElement("div",{className:"tab-bar-container"},r.a.createElement("div",{className:"tab-bar-scroll-container"},c.map((function(e){var t=e.tid;return r.a.createElement(x.b,{to:0===t?"/index":"/channel/".concat(t),key:t,className:"first-class-tab-item"},r.a.createElement("p",{className:v(t,e)?"selected-tab":""},e.typename))})))),r.a.createElement("div",{className:"arrow-container",onClick:function(){return m(!0)}},r.a.createElement(D,null))),!H(p)&&r.a.createElement("div",{className:"second-class-channel-container"},r.a.createElement("div",{className:"tab-bar-container"},r.a.createElement("div",{className:"tab-bar-scroll-container"},p.map((function(e){var t=e.tid;return r.a.createElement(x.b,{to:"/channel/".concat(t),key:t,className:"tab-item"},r.a.createElement("p",{className:v(t,e)?"selected-tab":""},e.typename))}))))),r.a.createElement("div",{className:"fixed-first-class-container ".concat(u?"open":"")},r.a.createElement("div",null,c.map((function(t){var a=t.tid;return r.a.createElement("a",{onClick:function(){return function(t){m(!1),e.history.push(0===t?"index":"/channel/".concat(t))}(a)},key:a,className:"tab-item ".concat(t.typename.length>2?"three-word":"")},r.a.createElement("p",{className:v(a,t)?"selected-tab":""},t.typename))}))),r.a.createElement("div",{className:"arrow-container",onClick:function(){return m(!1)}},r.a.createElement(D,{className:"normal-arrow-size arrow-up"}))))})),J=a(5),G=a.n(J),$=a(13);a(49),a(50);function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var K=r.a.createElement("defs",null,r.a.createElement("style",null)),Q=r.a.createElement("path",{d:"M810.667 810.667H213.333V213.333h597.334m0-85.333H213.333A85.333 85.333 0 00128 213.333v597.334A85.333 85.333 0 00213.333 896h597.334A85.333 85.333 0 00896 810.667V213.333A85.333 85.333 0 00810.667 128m-384 213.333v341.334L640 512 426.667 341.333z",fill:"#fff"}),Y=function(e){return r.a.createElement("svg",q({className:"play-box-outline_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),K,Q)};function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ee=r.a.createElement("defs",null,r.a.createElement("style",null)),te=r.a.createElement("path",{d:"M800 128H224c-89.6 0-160 70.4-160 160v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160zm96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z",fill:"#fff"}),ae=r.a.createElement("path",{d:"M240 384h64v64h-64zm128 0h384v64H368zm64 192h352v64H432zm-128 0h64v64h-64z",fill:"#fff"}),ne=function(e){return r.a.createElement("svg",Z({className:"danmushu_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),ee,te,ae)},re=function(e){var t=e.data;return-1===t.pic.indexOf("@320w_200h")&&(t.pic=I(t.pic,"@320w_200h")),r.a.createElement("div",{className:"video-card-container"},r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{alt:t.title,src:t.pic,style:{width:"100%",height:"100%"}}),t.play||t.video_review?r.a.createElement("div",{className:"play-view-container"},!!t.play&&r.a.createElement("div",null,r.a.createElement(Y,{className:"icon"}),r.a.createElement("span",{className:"text"},R(t.play))),!!t.video_review&&r.a.createElement("div",null,r.a.createElement(ne,{className:"icon"}),r.a.createElement("span",{className:"text"},R(t.video_review)))):null),r.a.createElement("div",{className:"title-container"},r.a.createElement("p",null,t.title)))};re.defaultProps={data:[]};var ce=re;function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var oe=r.a.createElement("defs",null,r.a.createElement("style",null)),le=r.a.createElement("path",{d:"M723.1 483.4c-1.3-1.3-2.6-2.4-4-3.4L355.9 116c-14.6-14.6-38.4-14.6-53 0-14.6 14.6-14.6 38.5 0 53.1l340.4 341.2L302.9 851c-14.6 14.6-14.6 38.4 0 53 14.6 14.6 38.4 14.6 53 0l362.9-363.3c1.5-1.1 2.9-2.3 4.3-3.7 7.4-7.4 11-17.1 10.9-26.8.1-9.7-3.6-19.4-10.9-26.8z",fill:"#aaa"}),se=function(e){return r.a.createElement("svg",ie({className:"right_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),oe,le)},ue=function(e){var t=Object(n.useState)([]),a=Object(k.a)(t,2),c=a[0],i=a[1],o=e.data,l=o.typename,s=o.fetchFunc,u=o.limit,m=o.tid,f=e.currentPage,d=e.isParent;return Object(n.useEffect)((function(){function e(){return(e=Object($.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({rid:m,page:f});case 2:t=e.sent,i(t.data||[]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),u&&(c=c.slice(0,u)),console.log(d,"isParent"),r.a.createElement("div",{className:"channel-video-area"},r.a.createElement("div",{className:"title-container"},r.a.createElement("div",{className:"title"},"\u63a8\u8350"===l?"\u70ed\u95e8\u63a8\u8350":l),r.a.createElement("div",{className:"title-right"},d&&r.a.createElement(x.b,{to:"/channel/"+m},r.a.createElement("div",{className:"text"},"\u67e5\u770b\u66f4\u591a"),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement(se,{className:"arrow-right"}))))),r.a.createElement("div",{className:"video-container"},H(c)?r.a.createElement("div",{className:"loading-container"},"\u52a0\u8f7d\u4e2d..."):c.map((function(e){return r.a.createElement(ce,{data:e,key:e.aid})}))))};ue.defaultProps={data:{},currentPage:1,fetchFunc:function(){},isParent:!0};var me=ue;function fe(e){return de.apply(this,arguments)}function de(){return(de=Object($.a)(G.a.mark((function e(t){var a,n,r,c,i=arguments;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n="",Object.keys(a).forEach((function(e){n=n+"&"+e+"="+a[e]})),n&&(t=t+"?"+n),e.next=6,fetch(t);case 6:return r=e.sent,c={success:!1,message:"",errorCode:0},e.prev=8,e.next=11,r.json();case 11:c=e.sent,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(8),c.message=e.t0,c.errorCode=r.status;case 18:return e.abrupt("return",c);case 19:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}function he(e){var t=e.rid,a=e.day,n=void 0===a?7:a;return fe("".concat(S,"?rid=").concat(t,"&day=").concat(n))}function pe(e){var t=e.rid,a=e.page;return fe("".concat(z,"?tid=").concat(t,"&pn=").concat(a))}a(51);function ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ve(a,!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ve(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=B()("/channel/:rid");var ge=Object(j.g)((function(e){var t=Object(_.c)(Object(n.useCallback)((function(e){return e.channelBar}),[])),a=(t.channelBarList,t.channelBarMap),c=void 0===a?{}:a,i=Object(n.useState)([]),o=Object(k.a)(i,2),l=o[0],s=o[1],u=Object(n.useState)(1),m=Object(k.a)(u,2),f=m[0],d=(m[1],be.exec(e.location.pathname)),h=0;d&&(h=parseInt(d[1]));var p=c[h];Object(n.useEffect)((function(){p&&(p.isParent?v():E())}),[h,c]);var v=function(){var e=[];p.children.forEach((function(t){e.push(Ee({},t,{fetchFunc:he,typename:t.typename,limit:4}))})),s(e)},E=function(){var e=[Ee({},p,{fetchFunc:he,typename:"\u70ed\u95e8\u63a8\u8350",tid:p.tid,limit:4}),Ee({},p,{fetchFunc:pe,typename:"\u6700\u65b0\u89c6\u9891",tid:p.tid,limit:!1})];s(e)};return r.a.createElement("div",{className:"channel-container"},r.a.createElement(U,null),l.map((function(e){return r.a.createElement(me,{key:e.typename+e.tid,data:e,currentPage:f,isParent:p.isParent})})))})),ye=a(24),Oe=(a(52),function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(0),c=Object(n.useRef)(null),i=Object(n.useRef)(!1),o=Object(n.useState)(0),l=Object(k.a)(o,2),s=l[0],u=l[1],m=Object(n.useState)(e.autoPlay),f=Object(k.a)(m,2),d=f[0],h=f[1],p=Object(n.useState)(1),v=Object(k.a)(p,2),E=v[0],b=v[1],g=Object(n.useState)(null),y=Object(k.a)(g,2),O=y[0],w=y[1],j=r.a.Children.count(e.children),N=j>1?j+2:j,_=j>1&&e.infinite,x=e.autoPlayTime,P=e.duration+"s";t.current&&t.current.offsetWidth;Object(n.useEffect)((function(){return d&&s&&j>1&&(c.current&&clearTimeout(c.current),c.current=setTimeout((function(){t.current.style.transition="none",C(0),setTimeout((function(){L("left",s,s/2)}),0)}),x)),function(){clearTimeout(c.current)}})),Object(n.useEffect)((function(){return t.current.addEventListener("touchstart",S),t.current.addEventListener("touchmove",z),t.current.addEventListener("touchend",M),window.addEventListener("resize",B),1===j&&b(0),function(){t.current.removeEventListener("touchstart",S),t.current.removeEventListener("touchmove",z),t.current.removeEventListener("touchend",M),window.removeEventListener("resize",B)}})),Object(n.useEffect)((function(){B()}),[N]),Object(n.useEffect)((function(){s&&C(0,j<=1?0:1)}),[s,e.children]),Object(n.useEffect)((function(){if(s){var t=null,a=null,n=r.a.Children.map(e.children,(function(e,n){e=r.a.cloneElement(e,{style:{width:"100%",height:"100%",display:"inline-block"}});var c=r.a.createElement("div",{key:n+1,style:{width:s},className:"carousel-item"},e);return 0===n&&j>1&&(t=r.a.cloneElement(c,{key:0})),n===j-1&&j>1&&(a=r.a.cloneElement(c,{key:j+1})),c})),c=[a].concat(Object(ye.a)(n),[t]);w(c)}}),[s,e.children]);var B=function(){var e=t.current.offsetWidth/N;N||(e=0),u(e)},C=function(e,a){var n=-(a=a||E)*s+e;t.current.style.transform="translateX(".concat(n,"px)")},L=function(e,a,n){i.current=!0,t.current.style.transition="transform ".concat(P);var r="left"===e?E+1:E-1;a=Math.abs(a),(r>N-1||r<0||Math.abs(n)<s/4)&&(r=E,a=0),C("left"===e?-a:a),_&&(0===r&&A(N-2),r===N-1&&A(1)),b(r),i.current=!1},A=function(e){setTimeout((function(){b(e)}),0)},S=function(e){e.stopPropagation(),clearTimeout(c.current),h(!1),t.current.style.transition="none",a.current=e.changedTouches[0].pageX,C(0)},z=function(e){e.stopPropagation(),e.preventDefault();var t=e.changedTouches[0].pageX;C(t-a.current)},M=function(e){e.stopPropagation();var t=e.changedTouches[0].pageX-a.current;L(t<0?"left":"right",s,t),a.current=0,h(!0)};return r.a.createElement("div",{className:"carousel-outer-container"},r.a.createElement("div",{className:"carousel-wrap"},r.a.createElement("div",{ref:t,className:"carousel-inner-container",style:{width:"".concat(100*N,"%")}},O)),r.a.createElement("div",{className:"carousel-button-wrap "},Object(ye.a)(new Array(j).keys()).map((function(e){return e=j>1?e+1:e,r.a.createElement("span",{key:e,className:"carousel-button ".concat(E===e?"selected":"")})}))))});Oe.defaultProps={infinite:!0,autoPlay:!0,autoPlayTime:2e3,duration:.3};var we=Oe;var je={fetchChannelBar:function(){return fe(C)},fetchLoc:function(){return fe(L)},fetchIndexRanking:function(){return fe(A)}};a(53);var Ne=[{path:"/index",component:function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)([]),o=Object(k.a)(i,2),l=o[0],s=o[1];return Object(n.useState)(Object($.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.fetchLoc();case 2:t=e.sent,c(t.data);case 4:case"end":return e.stop()}}),e)}))),[a]),Object(n.useState)(Object($.a)(G.a.mark((function e(){var t;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je.fetchIndexRanking();case 2:t=e.sent,s(t.data);case 4:case"end":return e.stop()}}),e)}))),[l]),r.a.createElement("div",{className:"channel-index video-card-area"},r.a.createElement(U,null),r.a.createElement(we,null,a.map((function(e){return r.a.createElement("a",{href:e.url,key:e.id},r.a.createElement("img",{alt:"",src:I(e.pic,"@480w_300h")}))}))),r.a.createElement("div",{className:"index-video-area-container"},l.map((function(e){return r.a.createElement(ce,{data:e,key:e.aid})}))))}},{path:"/channel/:rid",component:ge}];var ke=function(){return r.a.createElement(j.d,null,Ne.map((function(e){return r.a.createElement(j.b,{key:e.path,exact:void 0===e.exact||e.exact,component:e.component,path:e.path})})),r.a.createElement(j.a,{from:"/",to:"/index",exact:!0}))},_e={SET_CHANNEL_BAR:"SET_CHANNEL_BAR",FETCH_CHANNEL_BAR:"FETCH_CHANNEL_BAR"};function xe(e){return{type:_e.SET_CHANNEL_BAR,channelBar:e}}var Pe=function(){var e=Object(_.b)();return Object(n.useEffect)((function(){e({type:_e.FETCH_CHANNEL_BAR})}),[e]),r.a.createElement(x.a,null,r.a.createElement("div",{style:{backgroundColor:"#f4f4f4"}},r.a.createElement(w,null),r.a.createElement(ke,null)))},Be=(a(54),a(55),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Ce(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Le=a(14),Ae={channelBar:{}};var Se=Object(Le.b)({channelBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae.channelBar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e.SET_CHANNEL_BAR:return t.channelBar;default:return e}}}),ze=a(19),Me=G.a.mark(He),Te=G.a.mark(Ie);function He(){var e,t;return G.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(ze.a)(je.fetchChannelBar);case 2:return e=a.sent,t={},e.success&&(t=T(e.data)),a.next=7,Object(ze.b)(xe(t));case 7:case"end":return a.stop()}}),Me)}function Ie(){return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ze.c)(_e.FETCH_CHANNEL_BAR,He);case 2:case"end":return e.stop()}}),Te)}var Re=Ie,Fe=a(32),Ve=Object(Fe.a)(),We=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Le.c,De=Object(Le.d)(Se,We(Object(Le.a)(Ve)));Ve.run(Re),i.a.render(r.a.createElement(_.a.Provider,{value:De},r.a.createElement(Pe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Be?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ce(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ce(t,e)}))}}()}},[[33,1,2]]]);
//# sourceMappingURL=main.9b2211f8.chunk.js.map