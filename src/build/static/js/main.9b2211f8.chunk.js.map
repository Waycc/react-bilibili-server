{"version":3,"sources":["public/img/BILIBILI_LOGO.svg","public/img/search.svg","public/img/bilibili-tv.svg","components/Header.jsx","api/url.js","util/tools.js","public/img/arrow down.svg","components/ChannelBar.jsx","public/img/play-box-outline.svg","public/img/danmushu.svg","components/VideoCard.jsx","public/img/right.svg","components/ChannelVideoArea.jsx","api/fetch.js","api/ranking.js","pages/channel/Channel.jsx","components/Carousel.jsx","api/index.js","api/channel_bar.js","router/routes.js","pages/index/Index.jsx","router/NestRoutes.jsx","redux/action_types.js","redux/actions.js","App.jsx","serviceWorker.js","redux/reducers.js","redux/saga/index.js","redux/store.js","index.jsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","createElement","d","fill","props","className","viewBox","width","height","_ref3","_ref4","_ref5","Header","href","style","borderRadius","CHANNEL_URL","URL_PREFIX","LOC_URL","INDEX_RANKING_URL","RANKING_REGION_URL","ARCHIVE_RANK_URL","PIC_URL","createChannelBar","data","partitionList","indexPartition","tid","typename","children","isParent","channelBarList","channelBarMap","0","keys","sort","a","b","parseInt","forEach","partition","map","childPartition","parentId","unshift","childrenIds","child","push","isEmpty","obj","empty","Array","isArray","getPicUrl","url","format","suffix","terminal","test","navigator","userAgent","getPicSuffix","numberToW","num","toFixed","channelPathRe","pathToRegexp","withRouter","useMappedState","useCallback","state","channelBar","useState","channelModalVisible","setChannelModalVisible","match","exec","location","pathname","currentRid","currentChannel","childChannel","isSelected","rid","includes","to","onClick","history","onModalLinkClick","VideoCard","pic","indexOf","alt","title","src","play","video_review","defaultProps","ChannelVideoArea","videos","setVideos","fetchFunc","limit","currentPage","useEffect","page","videoData","fetchData","slice","console","log","display","video","aid","get","params","fetch","result","jsonData","success","message","errorCode","json","status","fetchRankingRegion","day","fetchArchiveRank","videoAreasDatas","setVideoAreaDatas","genVideoAreasWhenIsParent","genVideoAreasWhenIsChild","videoAreaData","Carousel","innerRef","useRef","startXRef","timeOutRef","movingRef","viewWidth","setViewWidth","autoPlay","setAutoPlay","currentIndex","setCurrentIndex","innerItems","setInnerItems","childrenCount","React","Children","count","innerItemsCount","infiniteSlide","infinite","autoPlayTime","duration","current","offsetWidth","clearTimeout","setTimeout","transition","move","finalMove","addEventListener","touchStart","touchMove","touchEnd","window","computeEachItemWidth","removeEventListener","firstEle","lastEle","newChildren","index","cloneElement","innerItem","x","moveX","transform","direction","distance","changeX","nextIndex","Math","abs","setPosition","e","stopPropagation","changedTouches","pageX","preventDefault","ref","fetchChannelBar","fetchLoc","fetchIndexRanking","path","component","locData","setLocData","rankingData","setRankingData","Api","rankingIndex","imgItem","id","rkData","Channel","NestRoutes","routes","route","exact","undefined","from","SET_CHANNEL_BAR","FETCH_CHANNEL_BAR","setChannelBar","type","actionTypes","App","dispatch","useDispatch","backgroundColor","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","initState","combineReducers","action","mySaga","put","takeLatest","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","reducer","applyMiddleware","run","ReactDOM","render","Provider","value","store","document","getElementById","URL","process","origin","response","contentType","headers","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.9b2211f8.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M1775.84 322.588c6.017 1.003 53.146-9.526 55.151-6.016 3.008 4.512 24.066 155.925 18.55 156.927s-44.62 10.028-44.62 10.028c-3.01-20.556-28.579-147.903-29.08-160.939m75.205-14.54l20.556 162.945c10.529-.502 53.145-3.51 57.156-4.011-6.017-61.668-16.545-158.934-16.545-158.934-20.055-4.01-41.113-4.01-61.167 0m-40.61 226.117s92.752-23.564 126.344-12.033c17.046 61.668 48.13 407.611 51.139 421.65-21.057 2.506-90.246 8.523-95.761 10.027-4.512-26.071-81.723-403.1-81.723-419.644m343.436-207.566c5.515 1.504 54.65-5.014 55.15-1.504 1.003 12.033 6.017 157.429.502 157.93s-44.622 4.011-44.622 4.011c-1.002-20.054-12.032-146.9-11.03-160.437m75.707-4.011l4.01 160.939c10.53 0 52.644 2.507 57.156 2.005-1.002-61.668 0-158.933 0-158.933-20.054-3.51-40.61-5.014-61.166-4.011M2164.9 538.677s94.759-12.534 126.846 2.507c7.02 72.197 6.017 408.614 7.02 422.652-21.56 0-90.247 1.003-95.762 2.005-1.003-26.07-39.608-410.619-38.104-427.164m-220.1-413.627c54.65 278.76 96.263 755.058 97.767 785.641 0 0 43.117 1.003 91.75 4.011-28.578-300.319-63.674-780.127-63.172-795.669-12.033-13.537-126.345 6.017-126.345 6.017m-120.328 659.297c-10.528-78.213-290.29-166.955-447.72-138.377 0 0-19.553-172.47-27.074-339.426-6.518-143.39-1.003-282.77.501-305.833-10.528-7.52-123.837 46.627-185.004 69.188 0 0 73.2 309.845 126.345 952.597 0 0 84.73 9.025 230.127-19.052s317.365-115.816 302.825-219.097M1482.541 925.23l-24.567-176.983c6.017-3.008 156.928 53.145 172.972 63.173-2.507 11.03-148.405 113.81-148.405 113.81M610.665 322.588c6.016 1.003 53.144-9.526 55.15-6.016 3.008 4.512 24.066 155.925 18.55 156.927s-44.621 10.028-44.621 10.028c-3.008-20.556-28.578-147.903-29.08-160.939m75.206-14.54l20.556 162.945c10.528-.502 53.145-3.51 57.155-4.011-6.517-61.668-16.545-158.934-16.545-158.934-20.054-4.01-41.112-4.01-61.166 0m-40.611 226.117s92.753-23.564 126.344-12.033c17.047 61.668 48.132 407.611 51.14 421.65-21.058 2.506-90.246 8.523-95.761 10.027-4.513-26.071-81.723-403.1-81.723-419.644m343.436-207.566c5.515 1.504 54.65-5.014 55.15-1.504 1.003 12.033 6.017 157.429.502 157.93s-44.622 4.011-44.622 4.011c-1.003-20.054-11.531-146.9-11.03-160.437m75.706-4.011l4.011 160.939c10.53 0 52.644 2.507 57.156 2.005-1.003-61.668 0-158.933 0-158.933-20.054-3.51-40.61-4.512-61.167-4.011m-64.676 216.089s94.758-12.534 126.846 2.507c7.02 72.197 6.016 408.614 7.02 422.652-21.56 0-90.247 1.003-95.762 2.005-.501-26.07-39.608-410.619-38.104-427.164m-220.1-413.627c54.65 278.76 96.263 755.058 97.767 785.641 0 0 43.117 1.003 91.75 4.011-28.578-300.319-63.674-780.127-63.172-796.17-12.033-13.036-126.345 6.518-126.345 6.518M659.297 784.347c-10.529-78.213-290.291-166.955-447.72-138.377 0 0-19.554-172.47-27.074-339.426-6.518-143.39-1.003-282.77.501-305.833C174.476-6.31 61.167 47.338 0 69.899c0 0 73.2 309.845 126.344 952.597 0 0 84.731 9.025 230.128-19.052s317.365-115.816 302.825-219.097M317.365 925.23l-24.567-176.983c6.017-3.008 156.928 53.145 172.972 63.173-2.507 11.03-148.405 113.81-148.405 113.81\",\n  fill: \"#de698c\"\n});\n\nvar SvgBilibiliLogo = function SvgBilibiliLogo(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"BILIBILI_LOGO_svg__icon\",\n    viewBox: \"0 0 2299 1024\",\n    width: 449.023,\n    height: 200\n  }, props), _ref, _ref2);\n};\n\nexport default SvgBilibiliLogo;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M886.4 841.6l-192-192C739.2 595.2 768 524.8 768 448c0-176-144-320-320-320S128 272 128 448s144 320 320 320c76.8 0 147.2-25.6 201.6-73.6l192 192c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6c12.8-12.8 12.8-32 0-44.8zM448 704c-140.8 0-256-115.2-256-256s115.2-256 256-256 256 115.2 256 256-115.2 256-256 256z\",\n  fill: \"#aaa\"\n});\n\nvar SvgSearch = function SvgSearch(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"search_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    width: 200,\n    height: 200\n  }, props), _ref, _ref2);\n};\n\nexport default SvgSearch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"#e7e7e7\",\n  d: \"M0 0h80v80H0z\"\n});\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M45.78 57.73h2.29a73.4 73.4 0 014.23 9.5 57.14 57.14 0 012.62 10.5 50.58 50.58 0 01-29.86 0 57.14 57.14 0 012.62-10.5 73.4 73.4 0 014.23-9.5h2.29l2.67 7.21 2.41-7.21h1.42l2.41 7.21zM31.72 18.51l4.87 4.87a1.8 1.8 0 010 2.55 1.8 1.8 0 01-2.55 0l-4.87-4.87a1.8 1.8 0 010-2.55 1.8 1.8 0 012.55 0zm16.85 0a1.8 1.8 0 012.55 0 1.8 1.8 0 010 2.55l-4.87 4.87a1.8 1.8 0 01-2.55 0 1.8 1.8 0 010-2.55z\",\n  fill: \"#ccc\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  \"data-name\": \"Combined-Shape\",\n  d: \"M24.2 24.22h31.6a7.2 7.2 0 017.2 7.2v20.12a7.2 7.2 0 01-7.2 7.2H24.2a7.2 7.2 0 01-7.2-7.2V31.42a7.2 7.2 0 017.2-7.2zm1 4a4.24 4.24 0 00-4.2 4.29v17.94a4.24 4.24 0 004.21 4.27h29.5A4.24 4.24 0 0059 50.45V32.51a4.24 4.24 0 00-4.21-4.27z\",\n  fill: \"#ccc\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  \"data-name\": \"Combined-Shape\",\n  d: \"M25.88 29.84h28.24a3.22 3.22 0 013.22 3.21v16.86a3.22 3.22 0 01-3.22 3.21H25.88a3.22 3.22 0 01-3.22-3.21V33.05a3.22 3.22 0 013.22-3.21zm0 .8a2.42 2.42 0 00-2.42 2.41v16.86a2.42 2.42 0 002.42 2.41h28.24a2.42 2.42 0 002.42-2.41V33.05a2.42 2.42 0 00-2.42-2.41z\",\n  fill: \"#ccc\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  \"data-name\": \"Combined-Shape\",\n  d: \"M26.73 40.1l7-3.1a1.81 1.81 0 111.48 3.3l-7 3.1a1.81 1.81 0 11-1.48-3.3zm26.54 0a1.81 1.81 0 11-1.48 3.3l-7-3.1a1.81 1.81 0 111.48-3.3zm-15.69 7.8c-1 0-1.9-.7-2.7-2a.8.8 0 01.26-1.11.81.81 0 011.11.26c.54.86 1 1.23 1.33 1.23s.79-.37 1.33-1.23a.81.81 0 011.37 0c.54.86 1 1.23 1.33 1.23s.79-.37 1.33-1.23a.81.81 0 011.11-.26.8.8 0 01.26 1.11c-.8 1.28-1.69 2-2.7 2a2.71 2.71 0 01-2-1.06 2.71 2.71 0 01-2.03 1.06z\",\n  fill: \"#ccc\"\n});\n\nvar SvgBilibiliTv = function SvgBilibiliTv(props) {\n  return React.createElement(\"svg\", _extends({\n    \"data-name\": \"\\\\\\\\\\\\\\\\u56FE\\\\\\\\\\\\\\\\u5C42 1\",\n    viewBox: \"0 0 80 80\"\n  }, props), _ref, _ref2, _ref3, _ref4, _ref5);\n};\n\nexport default SvgBilibiliTv;","import React from 'react'\r\nimport BiliLogo from '../public/img/BILIBILI_LOGO.svg'\r\nimport SearchIcon from '../public/img/search.svg'\r\nimport BiliTvIcon from '../public/img/bilibili-tv.svg'\r\nimport './style/header.scss'\r\n\r\nconst Header = function () {\r\n  return (\r\n    <div className={'app-header'}>\r\n      <a href={'/index'} className={'app-header-logo'}>\r\n        <BiliLogo style={{ width: '100%', height: '100%'}}/>\r\n      </a>\r\n      <div className={'app-header-search'}>\r\n        <SearchIcon className={'header-search-icon'}/>\r\n        <span className={'header-search-text'}>我和我的祖我和我的祖</span>\r\n      </div>\r\n      <div className={'bili-tv-icon'}>\r\n        <BiliTvIcon style={{ borderRadius: '50%' }}/>\r\n      </div>\r\n      <div className={'app-header-download-button'}>\r\n        下载App\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","let URL_PREFIX = '/api';\r\n\r\nexport const CHANNEL_URL = URL_PREFIX + '/partitions';\r\n\r\n//轮播图\r\nexport const LOC_URL = URL_PREFIX + '/loc';\r\nexport const INDEX_RANKING_URL = URL_PREFIX + '/ranking';\r\nexport const RANKING_REGION_URL = URL_PREFIX + '/ranking/region';\r\nexport const ARCHIVE_RANK_URL = URL_PREFIX + '/archive_rank/getarchiverankbypartion';\r\n\r\nexport const PIC_URL = URL_PREFIX + '/image';\r\n","import {PIC_URL} from \"../api/url\";\r\n\r\nexport function createChannelBar(data) {\r\n  let partitionList = data.partitionList;\r\n  // 树结构的导航栏\r\n  let indexPartition = {tid: 0, typename: '首页', children: [], isParent: true}\r\n  let channelBarList = [indexPartition];\r\n  // 包含所有导航栏的对象，key为导航的tid\r\n  let channelBarMap = {0: indexPartition};\r\n  Object.keys(partitionList).sort((a, b) => parseInt(a) - parseInt(b)).forEach(key => {\r\n    let isParent = false\r\n    if (parseInt(key) === 0) {\r\n      isParent = true\r\n    }\r\n    partitionList[key].forEach(partition => {\r\n      channelBarMap[partition.tid] = partition;\r\n      partition.isParent = isParent;\r\n      if (parseInt(key) === 0) {\r\n        partition.children = (partitionList[partition.tid] || []).map(childPartition => {\r\n          childPartition.parentId = partition.tid;\r\n          return childPartition\r\n        });\r\n        partition.children.unshift({\r\n          tid: partition.tid,\r\n          typename: '推荐',\r\n          isParent: false,\r\n          parentId: partition.tid\r\n        });\r\n        partition.childrenIds = partitionList[partition.tid].map(child => child.tid)\r\n        channelBarList.push(partition)\r\n      }\r\n    })\r\n  })\r\n  return {\r\n    channelBarList,\r\n    channelBarMap\r\n  }\r\n}\r\n\r\nexport function isEmpty(obj) {\r\n  let empty = false\r\n  if (!obj || (Array.isArray(obj) && obj.length === 0) || (typeof obj === 'object' && Object.keys(obj).length) === 0) {\r\n    empty = true\r\n  }\r\n  return empty\r\n}\r\n\r\nexport function getPicSuffix(){\r\n  const terminal = {\r\n    isIOS: /(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),\r\n    isAndroid: /(Android)/i.test(navigator.userAgent)\r\n  }\r\n  let suffix = \".webp\";\r\n  if (terminal.isIOS ===  true) {\r\n    suffix = \".jpg\";\r\n  } else if (terminal.isAndroid === true) {\r\n    suffix = \".webp\";\r\n  } else {\r\n    suffix = \".jpg\";\r\n  }\r\n  return suffix;\r\n}\r\n\r\nexport function getPicUrl(url, format) {\r\n  let suffix = getPicSuffix();\r\n  // picURL + \"?pic=\" + url + \"@480w_300h.webp\"\r\n  return `${PIC_URL}?pic=${url}${format + suffix}`;\r\n}\r\n\r\nexport function numberToW(num) {\r\n  if (num < 10000) return num;\r\n  return `${(num / 10000).toFixed(1)}万`\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M472.064 751.552L72.832 352.32c-22.08-22.08-22.08-57.792 0-79.872 22.016-22.016 57.792-22.08 79.872 0L512 631.744l359.296-359.296c22.016-22.016 57.792-22.08 79.872 0s22.016 57.792 0 79.872L551.936 751.552c-22.08 22.016-57.792 22.016-79.872 0z\",\n  fill: \"#aaa\"\n});\n\nvar SvgArrowdown = function SvgArrowdown(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"arrow_down_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    width: 200,\n    height: 200\n  }, props), _ref, _ref2);\n};\n\nexport default SvgArrowdown;","import React, {useCallback, useState} from 'react'\r\nimport {useMappedState} from \"redux-react-hook\";\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport pathToRegexp from 'path-to-regexp';\r\nimport './style/channel_bar.scss'\r\nimport {isEmpty} from \"../util/tools\";\r\nimport ArrowDownIcon from '../public/img/arrow down.svg'\r\n\r\nlet channelPathRe = pathToRegexp('/channel/:rid')\r\n\r\nconst ChannelBar = function (props) {\r\n  let {channelBarList = [], channelBarMap = {}} = useMappedState(useCallback(state => state.channelBar, []));\r\n  let [channelModalVisible, setChannelModalVisible] = useState(false);\r\n\r\n  let match = channelPathRe.exec(props.location.pathname);\r\n  let currentRid = 0;\r\n  if (match) {\r\n    currentRid = parseInt(match[1])\r\n  }\r\n  let currentChannel = channelBarMap[currentRid] || {};\r\n  // 如果当前所选频道是二级频道，就从一级频道中取出二级频道渲染\r\n  let childChannel = currentChannel.children || [];\r\n  if (!currentChannel.isParent) {\r\n    let parentChannel = channelBarMap[currentChannel.parentId] || {};\r\n    childChannel = parentChannel.children || []\r\n  }\r\n  let isSelected = (rid, channelBar) => {\r\n    return rid === currentRid || (channelBar.childrenIds || []).includes(currentRid)\r\n  };\r\n\r\n  let onModalLinkClick = (rid) => {\r\n    setChannelModalVisible(false);\r\n    props.history.push(rid === 0 ? 'index' : `/channel/${rid}`)\r\n  };\r\n\r\n  return (\r\n    <div className={'channel-bar-container'}>\r\n      {/*一级频道*/}\r\n      <div className={'first-class-channel-container'}>\r\n        <div className={'tab-bar-container'}>\r\n          <div className={'tab-bar-scroll-container'}>\r\n            {\r\n              channelBarList.map(channelBar => {\r\n                let rid = channelBar.tid;\r\n                return (\r\n                  <Link to={rid === 0 ? '/index' : `/channel/${rid}`} key={rid} className={`first-class-tab-item`}>\r\n                    <p className={isSelected(rid, channelBar) ? 'selected-tab' : ''}>{channelBar.typename}</p>\r\n                  </Link>\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n        <div className={'arrow-container'} onClick={() => setChannelModalVisible(true)}>\r\n          <ArrowDownIcon/>\r\n        </div>\r\n      </div>\r\n      {/*二级频道*/}\r\n      {\r\n        !isEmpty(childChannel) &&\r\n        <div className={'second-class-channel-container'}>\r\n          <div className={'tab-bar-container'}>\r\n            <div className={'tab-bar-scroll-container'}>\r\n              {\r\n                childChannel.map(childChannel => {\r\n                  let rid = childChannel.tid;\r\n                  return (\r\n                    <Link to={`/channel/${rid}`} key={rid} className={'tab-item'}>\r\n                      <p className={isSelected(rid, childChannel) ? `selected-tab` : ''}>{childChannel.typename}</p>\r\n                    </Link>\r\n                  )\r\n                })\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      {/*点击下拉按钮时的模态框*/}\r\n      <div className={`fixed-first-class-container ${channelModalVisible ? 'open' : ''}`}>\r\n        <div>\r\n          {\r\n            channelBarList.map(channelBar => {\r\n              let rid = channelBar.tid;\r\n              return (\r\n                <a onClick={() => onModalLinkClick(rid)} key={rid}\r\n                   className={`tab-item ${channelBar.typename.length > 2 ? 'three-word' : ''}`}>\r\n                  <p className={isSelected(rid, channelBar) ? 'selected-tab' : ''}>{channelBar.typename}</p>\r\n                </a>\r\n              )\r\n            })\r\n          }\r\n        </div>\r\n        <div className={'arrow-container'} onClick={() => setChannelModalVisible(false)}>\r\n          <ArrowDownIcon className={'normal-arrow-size arrow-up'}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default withRouter(ChannelBar)\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M810.667 810.667H213.333V213.333h597.334m0-85.333H213.333A85.333 85.333 0 00128 213.333v597.334A85.333 85.333 0 00213.333 896h597.334A85.333 85.333 0 00896 810.667V213.333A85.333 85.333 0 00810.667 128m-384 213.333v341.334L640 512 426.667 341.333z\",\n  fill: \"#fff\"\n});\n\nvar SvgPlayBoxOutline = function SvgPlayBoxOutline(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"play-box-outline_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    width: 200,\n    height: 200\n  }, props), _ref, _ref2);\n};\n\nexport default SvgPlayBoxOutline;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M800 128H224c-89.6 0-160 70.4-160 160v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160zm96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z\",\n  fill: \"#fff\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M240 384h64v64h-64zm128 0h384v64H368zm64 192h352v64H432zm-128 0h64v64h-64z\",\n  fill: \"#fff\"\n});\n\nvar SvgDanmushu = function SvgDanmushu(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"danmushu_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    width: 200,\n    height: 200\n  }, props), _ref, _ref2, _ref3);\n};\n\nexport default SvgDanmushu;","import React, {Fragment} from \"react\";\r\nimport './style/video_card.scss'\r\nimport {getPicUrl, numberToW} from \"../util/tools\";\r\nimport PropTypes from \"prop-types\";\r\nimport PlayIcon from '../public/img/play-box-outline.svg'\r\nimport DanMuShu from '../public/img/danmushu.svg'\r\n\r\nlet defaultProps = {\r\n  data: [],\r\n}\r\n\r\nlet propTypes = {\r\n  data: PropTypes.object\r\n}\r\n\r\nlet VideoCard = function (props) {\r\n  let data = props.data;\r\n\r\n  if (data.pic.indexOf(\"@320w_200h\") === -1) {\r\n    data.pic = getPicUrl(data.pic, \"@320w_200h\");\r\n  }\r\n  return (\r\n    <div className={'video-card-container'}>\r\n      <div className={'img-container'}>\r\n        <img alt={data.title} src={data.pic} style={{ width: '100%', height: '100%' }}/>\r\n        {\r\n          (!!data.play || !!data.video_review )\r\n            ?\r\n          <div className={'play-view-container'}>\r\n            {\r\n              !!data.play &&\r\n              <div>\r\n                <PlayIcon className={'icon'}/>\r\n                <span className={'text'}>{ numberToW(data.play) }</span>\r\n              </div>\r\n            }\r\n            {\r\n              !!data.video_review &&\r\n              <div>\r\n                <DanMuShu className={'icon'}/>\r\n                <span className={'text'}>{ numberToW(data.video_review) }</span>\r\n              </div>\r\n            }\r\n          </div>\r\n            : null\r\n        }\r\n      </div>\r\n      <div className={'title-container'}>\r\n        <p>{data.title}</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nVideoCard.propTypes = propTypes;\r\nVideoCard.defaultProps = defaultProps;\r\n\r\nexport default VideoCard\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M723.1 483.4c-1.3-1.3-2.6-2.4-4-3.4L355.9 116c-14.6-14.6-38.4-14.6-53 0-14.6 14.6-14.6 38.5 0 53.1l340.4 341.2L302.9 851c-14.6 14.6-14.6 38.4 0 53 14.6 14.6 38.4 14.6 53 0l362.9-363.3c1.5-1.1 2.9-2.3 4.3-3.7 7.4-7.4 11-17.1 10.9-26.8.1-9.7-3.6-19.4-10.9-26.8z\",\n  fill: \"#aaa\"\n});\n\nvar SvgRight = function SvgRight(props) {\n  return React.createElement(\"svg\", _extends({\n    className: \"right_svg__icon\",\n    viewBox: \"0 0 1024 1024\",\n    width: 200,\n    height: 200\n  }, props), _ref, _ref2);\n};\n\nexport default SvgRight;","// 除了主页外的其他channel使用这个组件，根据不同的type生成不同的视频区\r\n// 比如推荐区，MAD·AMV区\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport './style/channel_video_area.scss'\r\nimport VideoCard from \"./VideoCard\";\r\nimport {isEmpty} from \"../util/tools\";\r\nimport {Link} from \"react-router-dom\";\r\nimport RithIcon from '../public/img/right.svg'\r\n\r\nlet defaultProps = {\r\n  data: {},\r\n  currentPage: 1,\r\n  fetchFunc: () => {},\r\n  isParent: true,\r\n}\r\n\r\nlet propTypes = {\r\n  data: PropTypes.object,\r\n  currentPage: PropTypes.number,\r\n  fetchFunc: PropTypes.func,\r\n  isParent: PropTypes.bool\r\n}\r\n\r\nlet ChannelVideoArea = function (props) {\r\n  let [ videos, setVideos ] = useState([]);\r\n  let { typename, fetchFunc, limit, tid } = props.data;\r\n  let { currentPage, isParent } = props;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      let videoData = await fetchFunc({rid: tid, page: currentPage});\r\n      setVideos(videoData.data || [])\r\n    }\r\n    fetchData()\r\n  }, []);\r\n\r\n  if (limit) {\r\n    videos = videos.slice(0, limit)\r\n  }\r\n  console.log(isParent, 'isParent');\r\n  return (\r\n    <div className={'channel-video-area'}>\r\n      <div className={'title-container'}>\r\n        <div className={'title'}>{typename === '推荐' ? '热门推荐' : typename}</div>\r\n        <div className={'title-right'}>\r\n          {\r\n            isParent &&\r\n            <Link to={'/channel/' + tid}>\r\n              <div className={'text'}>查看更多</div>\r\n              <div style={{ display: 'inline-block'}}><RithIcon className={'arrow-right'}/></div>\r\n            </Link>\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className={'video-container'}>\r\n        {\r\n          isEmpty(videos) ?\r\n            <div className={'loading-container'}>加载中...</div>\r\n            :\r\n            videos.map(video => {\r\n              return <VideoCard data={video} key={video.aid}/>\r\n            })\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nChannelVideoArea.defaultProps = defaultProps;\r\nChannelVideoArea.propTypes = propTypes;\r\n\r\nexport default ChannelVideoArea\r\n","export async function post(url, data = {}) {\r\n  let result = await fetch(url, {\r\n    method: 'post',\r\n    body: JSON.stringify(data),\r\n    headers: {\r\n      'Content-Type': 'application/json: charset=utf-8'\r\n    }\r\n  });\r\n  let jsonData = {success: false, message: '', errorCode: 0};\r\n  try {\r\n    jsonData = await result.json()\r\n  } catch (e) {\r\n    jsonData.message = e;\r\n    jsonData.errorCode = result.status\r\n  }\r\n  return jsonData\r\n}\r\n\r\nexport async function get(url, data = {}) {\r\n  let params = ''\r\n  Object.keys(data).forEach(key => {\r\n    params = params + '&' + key + '=' + data[key]\r\n  })\r\n  if (params) url = url + '?' + params;\r\n  let result = await fetch(url);\r\n  let jsonData = {success: false, message: '', errorCode: 0};\r\n  try {\r\n    jsonData = await result.json();\r\n  } catch (e) {\r\n    jsonData.message = e;\r\n    jsonData.errorCode = result.status\r\n  }\r\n  return jsonData\r\n}\r\n","import {get} from \"./fetch\";\r\nimport {LOC_URL, INDEX_RANKING_URL, RANKING_REGION_URL, ARCHIVE_RANK_URL} from \"./url\";\r\n\r\nexport function fetchLoc() {\r\n  return get(LOC_URL)\r\n}\r\n\r\nexport function fetchIndexRanking() {\r\n  return get(INDEX_RANKING_URL)\r\n}\r\n\r\nexport function fetchRankingRegion({ rid, day=7 }) {\r\n  let url = `${RANKING_REGION_URL}?rid=${rid}&day=${day}`;\r\n  return get(url)\r\n}\r\n\r\nexport function fetchArchiveRank({ rid, page }) {\r\n  let url =`${ARCHIVE_RANK_URL}?tid=${rid}&pn=${page}`;\r\n  return get(url)\r\n}\r\n","import React, {useCallback, useEffect, useState} from \"react\";\r\nimport ChannelBar from \"../../components/ChannelBar\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {useMappedState} from \"redux-react-hook\";\r\nimport pathToRegexp from \"path-to-regexp\";\r\nimport ChannelVideoArea from \"../../components/ChannelVideoArea\";\r\nimport {fetchArchiveRank, fetchRankingRegion} from \"../../api/ranking\";\r\nimport './style/channel.scss'\r\n\r\nlet channelPathRe = pathToRegexp('/channel/:rid');\r\n\r\nfunction Channel(props) {\r\n  let {channelBarList = [], channelBarMap = {}} = useMappedState(useCallback(state => state.channelBar, []));\r\n  let [videoAreasDatas, setVideoAreaDatas] = useState([]);\r\n  let [currentPage, setCurrentPage] = useState(1);\r\n\r\n  let match = channelPathRe.exec(props.location.pathname);\r\n  let currentRid = 0;\r\n  if (match) {\r\n    currentRid = parseInt(match[1])\r\n  }\r\n\r\n  let currentChannel = channelBarMap[currentRid];\r\n\r\n  useEffect(() => {\r\n    if (currentChannel) {\r\n      if (currentChannel.isParent) {\r\n        genVideoAreasWhenIsParent()\r\n      } else {\r\n        genVideoAreasWhenIsChild()\r\n      }\r\n    }\r\n  }, [currentRid, channelBarMap]);\r\n\r\n  let genVideoAreasWhenIsParent = () => {\r\n    let videoAreasDatas = [];\r\n    currentChannel.children.forEach(child => {\r\n      videoAreasDatas.push({\r\n        ...child,\r\n        fetchFunc: fetchRankingRegion,\r\n        typename: child.typename,\r\n        limit: 4,\r\n      })\r\n    });\r\n    setVideoAreaDatas(videoAreasDatas)\r\n  };\r\n\r\n  let genVideoAreasWhenIsChild = () => {\r\n    let videoAreasDatas = [\r\n      {\r\n        ...currentChannel,\r\n        fetchFunc: fetchRankingRegion,\r\n        typename: '热门推荐',\r\n        tid: currentChannel.tid,\r\n        // 每一块区域显示的视频数量\r\n        limit: 4,\r\n      },\r\n      {\r\n        ...currentChannel,\r\n        fetchFunc: fetchArchiveRank,\r\n        typename: '最新视频',\r\n        tid: currentChannel.tid,\r\n        limit: false,\r\n      }\r\n    ];\r\n    setVideoAreaDatas(videoAreasDatas)\r\n  };\r\n\r\n  return (\r\n    <div className={'channel-container'}>\r\n      <ChannelBar/>\r\n      {\r\n        videoAreasDatas.map(videoAreaData => {\r\n          return <ChannelVideoArea\r\n            key={videoAreaData.typename + videoAreaData.tid}\r\n            data={videoAreaData}\r\n            currentPage={currentPage}\r\n            isParent={currentChannel.isParent}\r\n          />\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default withRouter(Channel)\r\n","import React, {Children, useCallback, useEffect, useRef, useState} from \"react\";\r\nimport './style/carousel.scss';\r\n\r\nlet defaultProps = {\r\n  infinite: true,\r\n  autoPlay: true,\r\n  autoPlayTime: 2000,\r\n  duration: 0.3\r\n};\r\n\r\nlet Carousel = function (props) {\r\n  let innerRef = useRef(null);\r\n  let startXRef = useRef(0);\r\n  let timeOutRef = useRef(null);\r\n  let movingRef = useRef(false);\r\n  let [viewWidth, setViewWidth] = useState(0);\r\n  let [autoPlay, setAutoPlay] = useState(props.autoPlay);\r\n  let [currentIndex, setCurrentIndex] = useState(1);\r\n  let [innerItems, setInnerItems] = useState(null); // 经过处理后的元素\r\n\r\n  let childrenCount = React.Children.count(props.children);\r\n  let innerItemsCount = childrenCount > 1 ? childrenCount + 2 : childrenCount;\r\n  let infiniteSlide = childrenCount > 1 ? props.infinite : false;\r\n  let autoPlayTime = props.autoPlayTime;\r\n  let duration = props.duration + 's';\r\n  let innerWidth = innerRef.current && innerRef.current.offsetWidth || 0\r\n\r\n  let startAutoPlay = () => {\r\n    setAutoPlay(true)\r\n  };\r\n\r\n  let stopAutoPlay = () => {\r\n    clearTimeout(timeOutRef.current)\r\n    setAutoPlay(false)\r\n  };\r\n\r\n  // 自动播放轮播图\r\n  useEffect(() => {\r\n    if (autoPlay && viewWidth && childrenCount > 1) {\r\n      if (timeOutRef.current) clearTimeout(timeOutRef.current);\r\n      timeOutRef.current = setTimeout(() => {\r\n        innerRef.current.style.transition = 'none';\r\n        move(0);\r\n        setTimeout(() => {\r\n          finalMove('left', viewWidth, viewWidth / 2);\r\n        }, 0);\r\n      }, autoPlayTime);\r\n    }\r\n    return () => {\r\n      clearTimeout(timeOutRef.current)\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    innerRef.current.addEventListener('touchstart', touchStart);\r\n    innerRef.current.addEventListener('touchmove', touchMove);\r\n    innerRef.current.addEventListener('touchend', touchEnd);\r\n    window.addEventListener('resize', computeEachItemWidth)\r\n    if (childrenCount === 1) {\r\n      setCurrentIndex(0);\r\n    }\r\n    return () => {\r\n      innerRef.current.removeEventListener('touchstart', touchStart);\r\n      innerRef.current.removeEventListener('touchmove', touchMove);\r\n      innerRef.current.removeEventListener('touchend', touchEnd);\r\n      window.removeEventListener('resize', computeEachItemWidth)\r\n    };\r\n  });\r\n\r\n  // 获取可视区域大小\r\n  useEffect(() => {\r\n    computeEachItemWidth();\r\n  }, [innerItemsCount]);\r\n\r\n  // 第一次进入时初始化图片位置\r\n  useEffect(() => {\r\n    if (viewWidth) {\r\n      let index = childrenCount <= 1 ? 0 : 1;\r\n      move(0, index);\r\n    }\r\n  }, [viewWidth, props.children]);\r\n\r\n  useEffect(() => {\r\n    // 将原来的children中的第一个元素和最后一个元素，分别复制后放在末尾和头部，方便无限轮播\r\n    if (viewWidth) {\r\n      let firstEle = null;\r\n      let lastEle = null;\r\n\r\n      let newChildren = React.Children.map(props.children, (child, index) => {\r\n        child = React.cloneElement(child, {style: {width: '100%', height: '100%', display: 'inline-block'}});\r\n        let innerItem = (\r\n          <div key={index + 1} style={{width: viewWidth}} className={'carousel-item'}>\r\n            {child}\r\n          </div>\r\n        );\r\n        if (index === 0 && childrenCount > 1) firstEle = React.cloneElement(innerItem, {key: 0});\r\n        if (index === childrenCount - 1 && childrenCount > 1) lastEle = React.cloneElement(innerItem, {key: childrenCount + 1});\r\n        return innerItem;\r\n      });\r\n      let innerItems = [lastEle, ...newChildren, firstEle];\r\n      setInnerItems(innerItems);\r\n    }\r\n  }, [viewWidth, props.children]);\r\n\r\n  // 计算轮播图可视区域的大小\r\n  let computeEachItemWidth = () => {\r\n    let viewWidth = innerRef.current.offsetWidth / innerItemsCount;\r\n    if (!innerItemsCount) {\r\n      viewWidth = 0;\r\n    }\r\n    setViewWidth(viewWidth);\r\n  };\r\n\r\n  // 屏幕触摸时的移动\r\n  let move = (x, index) => {\r\n    index = index || currentIndex;\r\n    let moveX = -(index * viewWidth) + x;\r\n    innerRef.current.style.transform = `translateX(${moveX}px)`;\r\n  };\r\n\r\n  // 触摸结束后，整个图片的移动\r\n  let finalMove = (direction, distance, changeX) => {\r\n    movingRef.current = true;\r\n    innerRef.current.style.transition = `transform ${duration}`;\r\n    let nextIndex = direction === 'left' ? currentIndex + 1 : currentIndex - 1;\r\n    distance = Math.abs(distance);\r\n    if (nextIndex > innerItemsCount - 1 || nextIndex < 0 || Math.abs(changeX) < viewWidth / 4) {\r\n      nextIndex = currentIndex;\r\n      distance = 0;\r\n    }\r\n    if (direction === 'left') {\r\n      move(-distance);\r\n    } else {\r\n      move(distance);\r\n    }\r\n    if (infiniteSlide) {\r\n      if (nextIndex === 0) {\r\n        setPosition(innerItemsCount - 2);\r\n      }\r\n      if (nextIndex === innerItemsCount - 1) {\r\n        setPosition(1);\r\n      }\r\n    }\r\n    setCurrentIndex(nextIndex);\r\n    movingRef.current = false;\r\n  };\r\n\r\n  let setPosition = (nextIndex) => {\r\n    setTimeout(() => {\r\n      // 设置正确索引，下一次touchStart事件触发时，会正确设置translateX的值\r\n      // innerRef.current.style.transition = 'none';\r\n      setCurrentIndex(nextIndex);\r\n      // move(0, nextIndex)\r\n    }, 0);\r\n  };\r\n\r\n  let touchStart = (e) => {\r\n    e.stopPropagation();\r\n    stopAutoPlay();\r\n    innerRef.current.style.transition = 'none';\r\n    startXRef.current = e.changedTouches[0].pageX;\r\n    move(0);\r\n  };\r\n\r\n  let touchMove = (e) => {\r\n    e.stopPropagation()\r\n    e.preventDefault()\r\n    let x = e.changedTouches[0].pageX;\r\n    move(x - startXRef.current);\r\n  };\r\n\r\n  let touchEnd = (e) => {\r\n    e.stopPropagation()\r\n    let endX = e.changedTouches[0].pageX;\r\n    let changeX = endX - startXRef.current;\r\n    // 触摸滑动方向\r\n    let direction = changeX < 0 ? 'left' : 'right';\r\n    finalMove(direction, viewWidth, changeX);\r\n    startXRef.current = 0;\r\n    startAutoPlay()\r\n  };\r\n\r\n  return (\r\n    <div className={'carousel-outer-container'} >\r\n      <div className={'carousel-wrap'}>\r\n        <div\r\n          ref={innerRef}\r\n          className={'carousel-inner-container'}\r\n          style={{width: `${100 * innerItemsCount}%`}}\r\n        >\r\n          {innerItems}\r\n        </div>\r\n      </div>\r\n      <div className={'carousel-button-wrap '}>\r\n        {\r\n          [...new Array(childrenCount).keys()].map(key => {\r\n            key = childrenCount > 1 ? key + 1 : key;\r\n            return (\r\n              <span key={key} className={`carousel-button ${currentIndex === key ? 'selected' : ''}`}/>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCarousel.defaultProps = defaultProps;\r\n\r\nexport default Carousel;\r\n","import { fetchChannelBar } from \"./channel_bar\";\r\nimport {fetchIndexRanking, fetchLoc} from \"./ranking\";\r\n\r\nexport default {\r\n  fetchChannelBar,\r\n  fetchLoc,\r\n  fetchIndexRanking\r\n}\r\n","import { get } from './fetch'\r\nimport { CHANNEL_URL } from \"./url\";\r\n\r\nexport function fetchChannelBar() {\r\n  return get(CHANNEL_URL)\r\n}\r\n","import Channel from '../pages/channel/Channel'\r\nimport Index from \"../pages/index/Index\";\r\n\r\nexport default [\r\n  {\r\n    path: '/index',\r\n    component: Index\r\n  },\r\n  {\r\n    path: '/channel/:rid',\r\n    component: Channel\r\n  }\r\n]\r\n","import React, {useState} from 'react'\r\nimport ChannelBar from \"../../components/ChannelBar\";\r\nimport Carousel from \"../../components/Carousel\";\r\nimport Api from '../../api/index'\r\nimport VideoCard from \"../../components/VideoCard\";\r\nimport './style/index.scss'\r\nimport {getPicUrl} from \"../../util/tools\";\r\n\r\nexport default function Index() {\r\n  let [locData, setLocData] = useState([]);\r\n  let [rankingData, setRankingData] = useState([]);\r\n\r\n  useState(async () => {\r\n    let locData = await Api.fetchLoc();\r\n    setLocData(locData.data)\r\n  }, [locData]);\r\n\r\n  useState(async () => {\r\n    let rankingIndex = await Api.fetchIndexRanking();\r\n    setRankingData(rankingIndex.data)\r\n  }, [rankingData])\r\n\r\n  return (\r\n    <div className={'channel-index video-card-area'}>\r\n      <ChannelBar/>\r\n      <Carousel>\r\n        {\r\n          locData.map(imgItem => {\r\n            return (\r\n              <a href={imgItem.url} key={imgItem.id}>\r\n                <img alt='' src={getPicUrl(imgItem.pic, \"@480w_300h\")}/>\r\n              </a>\r\n            )\r\n          })\r\n        }\r\n      </Carousel>\r\n      <div className={'index-video-area-container'}>\r\n        {\r\n          rankingData.map(rkData => {\r\n            return (\r\n              <VideoCard data={rkData} key={rkData.aid}/>\r\n            )\r\n          })\r\n        }\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from \"react\";\r\nimport {Redirect, Route, Switch} from \"react-router-dom\";\r\nimport routes from './routes'\r\n\r\nfunction NestRoutes() {\r\n  return (\r\n    <Switch>\r\n      {\r\n        routes.map(route => (\r\n          <Route\r\n            key={route.path}\r\n            exact={route.exact === undefined ? true : route.exact}\r\n            component={route.component}\r\n            path={route.path}\r\n          />\r\n        ))\r\n      }\r\n      <Redirect from={'/'} to={'/index'} exact={true}/>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default NestRoutes\r\n","const SET_CHANNEL_BAR = 'SET_CHANNEL_BAR';\r\nconst FETCH_CHANNEL_BAR = 'FETCH_CHANNEL_BAR';\r\n\r\n\r\nexport default {\r\n  SET_CHANNEL_BAR,\r\n  FETCH_CHANNEL_BAR\r\n}\r\n","import actionTypes from './action_types'\r\n\r\nexport function setChannelBar(channelBar) {\r\n  return { type: actionTypes.SET_CHANNEL_BAR, channelBar }\r\n}\r\n\r\nexport function fetchChannelBar() {\r\n  return { type: actionTypes.FETCH_CHANNEL_BAR }\r\n}\r\n","import React, {useEffect} from 'react';\nimport './public/style/app.scss';\nimport Header from \"./components/Header\";\nimport NestRoutes from \"./router/NestRoutes\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport {fetchChannelBar} from \"./redux/actions\";\nimport {useDispatch} from \"redux-react-hook\";\n\nfunction App() {\n  let dispatch = useDispatch();\n  // 获取导航栏的数据\n  useEffect(()=> {\n    dispatch(fetchChannelBar())\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <div style={{ backgroundColor: '#f4f4f4' }}>\n        <Header/>\n        <NestRoutes/>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { combineReducers } from \"redux\";\r\nimport actionTypes from './action_types'\r\n\r\nconst initState = {\r\n  channelBar: {}\r\n}\r\n\r\nexport function channelBarReducer(channelBar=initState.channelBar, action) {\r\n  switch (action.type) {\r\n    case actionTypes.SET_CHANNEL_BAR:\r\n      return action.channelBar\r\n    default:\r\n      return channelBar\r\n  }\r\n}\r\n\r\nexport default combineReducers({\r\n  channelBar: channelBarReducer\r\n})\r\n","import { call, put, takeLatest } from 'redux-saga/effects'\r\nimport Api from '../../api/index'\r\nimport {setChannelBar} from \"../actions\";\r\nimport actionTypes from '../action_types'\r\nimport {createChannelBar} from \"../../util/tools\";\r\n\r\nfunction* fetchChannelBar() {\r\n  const result = yield call(Api.fetchChannelBar);\r\n  let channelBar = {};\r\n  if (result.success) {\r\n    channelBar = createChannelBar(result.data);\r\n  }\r\n  yield put(setChannelBar(channelBar))\r\n}\r\n\r\n\r\nfunction* mySaga() {\r\n  yield takeLatest(actionTypes.FETCH_CHANNEL_BAR, fetchChannelBar)\r\n}\r\n\r\nexport default mySaga\r\n","import {applyMiddleware, createStore, compose} from \"redux\";\r\nimport reducer from './reducers'\r\nimport mySaga from './saga/index'\r\nimport createSagaMiddleware from 'redux-saga'\r\n\r\nlet sagaMiddleware = createSagaMiddleware();\r\nlet composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport default createStore(\r\n  reducer,\r\n  composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  )\r\n\r\nsagaMiddleware.run(mySaga);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './public/style/global.scss'\nimport './public/style/normalize.scss'\nimport * as serviceWorker from './serviceWorker';\nimport {StoreContext} from 'redux-react-hook';\nimport store from './redux/store'\n\nReactDOM.render(\n  <StoreContext.Provider value={store}>\n    <App/>\n  </StoreContext.Provider>,\n  document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}