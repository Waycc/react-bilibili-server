(this["webpackJsonpreact-hook-bilibili2"]=this["webpackJsonpreact-hook-bilibili2"]||[]).push([[0],{37:function(e,t,a){e.exports=a(69)},42:function(e,t,a){},44:function(e,t,a){},49:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),i=a.n(r),o=(a(42),a(4)),l=a.n(o),s=a(7),u=a(2);function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var f=c.a.createElement("defs",null,c.a.createElement("style",null)),d=c.a.createElement("path",{d:"M1775.84 322.588c6.017 1.003 53.146-9.526 55.151-6.016 3.008 4.512 24.066 155.925 18.55 156.927s-44.62 10.028-44.62 10.028c-3.01-20.556-28.579-147.903-29.08-160.939m75.205-14.54l20.556 162.945c10.529-.502 53.145-3.51 57.156-4.011-6.017-61.668-16.545-158.934-16.545-158.934-20.055-4.01-41.113-4.01-61.167 0m-40.61 226.117s92.752-23.564 126.344-12.033c17.046 61.668 48.13 407.611 51.139 421.65-21.057 2.506-90.246 8.523-95.761 10.027-4.512-26.071-81.723-403.1-81.723-419.644m343.436-207.566c5.515 1.504 54.65-5.014 55.15-1.504 1.003 12.033 6.017 157.429.502 157.93s-44.622 4.011-44.622 4.011c-1.002-20.054-12.032-146.9-11.03-160.437m75.707-4.011l4.01 160.939c10.53 0 52.644 2.507 57.156 2.005-1.002-61.668 0-158.933 0-158.933-20.054-3.51-40.61-5.014-61.166-4.011M2164.9 538.677s94.759-12.534 126.846 2.507c7.02 72.197 6.017 408.614 7.02 422.652-21.56 0-90.247 1.003-95.762 2.005-1.003-26.07-39.608-410.619-38.104-427.164m-220.1-413.627c54.65 278.76 96.263 755.058 97.767 785.641 0 0 43.117 1.003 91.75 4.011-28.578-300.319-63.674-780.127-63.172-795.669-12.033-13.537-126.345 6.017-126.345 6.017m-120.328 659.297c-10.528-78.213-290.29-166.955-447.72-138.377 0 0-19.553-172.47-27.074-339.426-6.518-143.39-1.003-282.77.501-305.833-10.528-7.52-123.837 46.627-185.004 69.188 0 0 73.2 309.845 126.345 952.597 0 0 84.73 9.025 230.127-19.052s317.365-115.816 302.825-219.097M1482.541 925.23l-24.567-176.983c6.017-3.008 156.928 53.145 172.972 63.173-2.507 11.03-148.405 113.81-148.405 113.81M610.665 322.588c6.016 1.003 53.144-9.526 55.15-6.016 3.008 4.512 24.066 155.925 18.55 156.927s-44.621 10.028-44.621 10.028c-3.008-20.556-28.578-147.903-29.08-160.939m75.206-14.54l20.556 162.945c10.528-.502 53.145-3.51 57.155-4.011-6.517-61.668-16.545-158.934-16.545-158.934-20.054-4.01-41.112-4.01-61.166 0m-40.611 226.117s92.753-23.564 126.344-12.033c17.047 61.668 48.132 407.611 51.14 421.65-21.058 2.506-90.246 8.523-95.761 10.027-4.513-26.071-81.723-403.1-81.723-419.644m343.436-207.566c5.515 1.504 54.65-5.014 55.15-1.504 1.003 12.033 6.017 157.429.502 157.93s-44.622 4.011-44.622 4.011c-1.003-20.054-11.531-146.9-11.03-160.437m75.706-4.011l4.011 160.939c10.53 0 52.644 2.507 57.156 2.005-1.003-61.668 0-158.933 0-158.933-20.054-3.51-40.61-4.512-61.167-4.011m-64.676 216.089s94.758-12.534 126.846 2.507c7.02 72.197 6.016 408.614 7.02 422.652-21.56 0-90.247 1.003-95.762 2.005-.501-26.07-39.608-410.619-38.104-427.164m-220.1-413.627c54.65 278.76 96.263 755.058 97.767 785.641 0 0 43.117 1.003 91.75 4.011-28.578-300.319-63.674-780.127-63.172-796.17-12.033-13.036-126.345 6.518-126.345 6.518M659.297 784.347c-10.529-78.213-290.291-166.955-447.72-138.377 0 0-19.554-172.47-27.074-339.426-6.518-143.39-1.003-282.77.501-305.833C174.476-6.31 61.167 47.338 0 69.899c0 0 73.2 309.845 126.344 952.597 0 0 84.731 9.025 230.128-19.052s317.365-115.816 302.825-219.097M317.365 925.23l-24.567-176.983c6.017-3.008 156.928 53.145 172.972 63.173-2.507 11.03-148.405 113.81-148.405 113.81",fill:"#de698c"}),p=function(e){return c.a.createElement("svg",m({className:"BILIBILI_LOGO_svg__icon",viewBox:"0 0 2299 1024",width:449.023,height:200},e),f,d)};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var v=c.a.createElement("defs",null,c.a.createElement("style",null)),E=c.a.createElement("path",{d:"M886.4 841.6l-192-192C739.2 595.2 768 524.8 768 448c0-176-144-320-320-320S128 272 128 448s144 320 320 320c76.8 0 147.2-25.6 201.6-73.6l192 192c6.4 6.4 16 9.6 22.4 9.6s16-3.2 22.4-9.6c12.8-12.8 12.8-32 0-44.8zM448 704c-140.8 0-256-115.2-256-256s115.2-256 256-256 256 115.2 256 256-115.2 256-256 256z",fill:"#aaa"}),b=function(e){return c.a.createElement("svg",h({className:"search_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),v,E)};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var O=c.a.createElement("path",{fill:"#e7e7e7",d:"M0 0h80v80H0z"}),y=c.a.createElement("path",{d:"M45.78 57.73h2.29a73.4 73.4 0 014.23 9.5 57.14 57.14 0 012.62 10.5 50.58 50.58 0 01-29.86 0 57.14 57.14 0 012.62-10.5 73.4 73.4 0 014.23-9.5h2.29l2.67 7.21 2.41-7.21h1.42l2.41 7.21zM31.72 18.51l4.87 4.87a1.8 1.8 0 010 2.55 1.8 1.8 0 01-2.55 0l-4.87-4.87a1.8 1.8 0 010-2.55 1.8 1.8 0 012.55 0zm16.85 0a1.8 1.8 0 012.55 0 1.8 1.8 0 010 2.55l-4.87 4.87a1.8 1.8 0 01-2.55 0 1.8 1.8 0 010-2.55z",fill:"#ccc"}),A=c.a.createElement("path",{"data-name":"Combined-Shape",d:"M24.2 24.22h31.6a7.2 7.2 0 017.2 7.2v20.12a7.2 7.2 0 01-7.2 7.2H24.2a7.2 7.2 0 01-7.2-7.2V31.42a7.2 7.2 0 017.2-7.2zm1 4a4.24 4.24 0 00-4.2 4.29v17.94a4.24 4.24 0 004.21 4.27h29.5A4.24 4.24 0 0059 50.45V32.51a4.24 4.24 0 00-4.21-4.27z",fill:"#ccc"}),j=c.a.createElement("path",{"data-name":"Combined-Shape",d:"M25.88 29.84h28.24a3.22 3.22 0 013.22 3.21v16.86a3.22 3.22 0 01-3.22 3.21H25.88a3.22 3.22 0 01-3.22-3.21V33.05a3.22 3.22 0 013.22-3.21zm0 .8a2.42 2.42 0 00-2.42 2.41v16.86a2.42 2.42 0 002.42 2.41h28.24a2.42 2.42 0 002.42-2.41V33.05a2.42 2.42 0 00-2.42-2.41z",fill:"#ccc"}),w=c.a.createElement("path",{"data-name":"Combined-Shape",d:"M26.73 40.1l7-3.1a1.81 1.81 0 111.48 3.3l-7 3.1a1.81 1.81 0 11-1.48-3.3zm26.54 0a1.81 1.81 0 11-1.48 3.3l-7-3.1a1.81 1.81 0 111.48-3.3zm-15.69 7.8c-1 0-1.9-.7-2.7-2a.8.8 0 01.26-1.11.81.81 0 011.11.26c.54.86 1 1.23 1.33 1.23s.79-.37 1.33-1.23a.81.81 0 011.37 0c.54.86 1 1.23 1.33 1.23s.79-.37 1.33-1.23a.81.81 0 011.11-.26.8.8 0 01.26 1.11c-.8 1.28-1.69 2-2.7 2a2.71 2.71 0 01-2-1.06 2.71 2.71 0 01-2.03 1.06z",fill:"#ccc"}),N=function(e){return c.a.createElement("svg",g({"data-name":"\\\\\\\\u56FE\\\\\\\\u5C42 1",viewBox:"0 0 80 80"},e),O,y,A,j,w)};a(44);function k(e){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(l.a.mark((function e(t){var a,n,c,r,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:{},n="",Object.keys(a).forEach((function(e){n=n+"&"+e+"="+a[e]})),n&&(t=t+"?"+n),e.next=6,fetch(t);case 6:return c=e.sent,r={success:!1,message:"",errorCode:0},e.prev=8,e.next=11,c.json();case 11:r=e.sent,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(8),r.message=e.t0,r.errorCode=c.status;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[8,14]])})))).apply(this,arguments)}var P="/api/partitions",M="/api/loc",B="/api/ranking",S="/api/ranking/region",I="/api/archive_rank/getarchiverankbypartion",z="/api/video",x="/api/mp4",D="/api/archive/related",T="/api/reply",H="/api/search/default",L="/api/hotword",Q="/api/suggest",R="/api/search/all",V="/api/search/type",G="/api/image";function F(e){var t=e.rid,a=e.day,n=void 0===a?7:a;return k("".concat(S,"?rid=").concat(t,"&day=").concat(n))}function U(e){var t=e.rid,a=e.page;return k("".concat(I,"?tid=").concat(t,"&pn=").concat(a))}var Z={fetchChannelBar:function(){return k(P)},fetchLoc:function(){return k(M)},fetchIndexRanking:function(){return k(B)},fetchVideoInfo:function(e){var t=e.aid;return k("".concat(z,"?aid=").concat(t))},fetchRelated:function(e){var t=e.aid;return k("".concat(D,"?aid=").concat(t))},fetchCommentData:function(e){var t=e.aid,a=e.pn;return k("".concat(T,"?aid=").concat(t,"&pn=").concat(a))},getSearchDefault:function(){return k(H)},getHotWord:function(){return k(L)},getSuggest:function(e){return k(Q+"?keyword="+e)},getAllSearchResult:function(e){var t=e.page,a=void 0===t?1:t,n=e.pageSize,c=void 0===n?20:n,r=e.order,i=void 0===r?"totalrank":r,o=e.searchType,l=void 0===o?"all":o,s=e.keyword;return k(R+"?keyword=".concat(s,"&page=").concat(a,"&pagesize=").concat(c,"&search_type=").concat(l,"&order=").concat(i))},getTypeSearchResult:function(e){var t=e.page,a=void 0===t?1:t,n=e.pageSize,c=void 0===n?20:n,r=e.order,i=void 0===r?"totalrank":r,o=e.searchType,l=void 0===o?"all":o,s=e.keyword;return k(V+"?keyword=".concat(s,"&page=").concat(a,"&pagesize=").concat(c,"&search_type=").concat(l,"&order=").concat(i))}},Y=a(32),J=a(11);function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function X(e){var t=e.partitionList,a={tid:0,typename:"\u9996\u9875",children:[],isParent:!0},n=[a],c={0:a};return Object.keys(t).sort((function(e,t){return parseInt(e)-parseInt(t)})).forEach((function(e){var a=!1;0===parseInt(e)&&(a=!0),t[e].forEach((function(r){c[r.tid]=r,r.isParent=a,0===parseInt(e)&&(r.children=(t[r.tid]||[]).map((function(e){return e.parentId=r.tid,e})),r.children.unshift({tid:r.tid,typename:"\u63a8\u8350",isParent:!1,parentId:r.tid}),r.childrenIds=t[r.tid].map((function(e){return e.tid})),n.push(r))}))})),{channelBarList:n,channelBarMap:c}}function K(e){var t=!1;return(!e||Array.isArray(e)&&0===e.length||0===("object"===typeof e&&Object.keys(e).length))&&(t=!0),t}function q(e,t){var a=function(){var e=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent),t=/(Android)/i.test(navigator.userAgent);return!0===e?".jpg":!0===t?".webp":".jpg"}();return e.startsWith("http")||(e="https:"+e),"".concat(G,"?pic=").concat(e).concat(t+a)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u4e07";return e<1e4?e:"".concat((e/1e4).toFixed(1)).concat(t)}var $=function(e){var t=new Date(1e3*e),a="",n=new Date;if(t.getFullYear()===n.getFullYear())if(t.getMonth()===n.getMonth())switch(n.getDate()-t.getDate()){case 0:a=n.getHours()-t.getHours()===0?n.getMinutes()-t.getMinutes()+"\u5206\u949f\u524d":n.getHours()-t.getHours()+"\u5c0f\u65f6\u524d";break;default:a=t.getMonth()+1+"-"+t.getDate()}else a=t.getMonth()+1+"-"+t.getDate();else a=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return a},ee=function(e,t,a){"PUSH"!==t.action&&sessionStorage.getItem(a)||e()},te=function(e,t){var a=t.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(a,!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t())}),{});sessionStorage.setItem(e,JSON.stringify(a))},ae=function(e){return function(){sessionStorage.removeItem(e)}};var ne=new function e(){var t=this;Object(Y.a)(this,e),this.eventMap={},this.getEventList=function(e){return t.eventMap[e]||[]},this.setEventList=function(e,a){t.eventMap[e]=a},this.on=function(e,a){var n=t.getEventList(e);n.push(a),t.setEventList(e,n)},this.emit=function(e){for(var a=arguments.length,n=new Array(a>1?a-1:0),c=1;c<a;c++)n[c-1]=arguments[c];var r=t.getEventList(e);r.forEach((function(e){return e(n)}))},this.remove=function(e,a){var n=t.getEventList(e);n=n.filter((function(e){return e!==a})),t.setEventList(e,n)}},ce="cachePage",re="searchHistory",ie=["/search"],oe=a(16),le=Object(oe.g)((function(e){var t=Object(n.useState)({}),a=Object(u.a)(t,2),r=a[0],i=a[1],o=e.location.pathname;Object(n.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getSearchDefault();case 2:t=e.sent,console.log(t,"defaultSearch"),i(t.data);case 5:case"end":return e.stop()}}),e)})))()}),[o]);return c.a.createElement("div",{className:"app-header"},c.a.createElement("a",{href:"/index",className:"app-header-logo"},c.a.createElement(p,{style:{width:"100%",height:"100%"}})),c.a.createElement("div",{className:"app-header-search",onClick:function(){ne.emit(ce),localStorage.setItem("searchReferer",e.history.length),e.history.push("/search")}},c.a.createElement(b,{className:"header-search-icon"}),c.a.createElement("span",{className:"header-search-text"},r.show_name||"")),c.a.createElement("div",{className:"bili-tv-icon"},c.a.createElement(N,{style:{borderRadius:"50%"}})),c.a.createElement("div",{className:"app-header-download-button"},"\u4e0b\u8f7dApp"))})),se=a(14),ue=a(20),me=a.n(ue);a(49);function fe(){return(fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var de=c.a.createElement("defs",null,c.a.createElement("style",null)),pe=c.a.createElement("path",{d:"M472.064 751.552L72.832 352.32c-22.08-22.08-22.08-57.792 0-79.872 22.016-22.016 57.792-22.08 79.872 0L512 631.744l359.296-359.296c22.016-22.016 57.792-22.08 79.872 0s22.016 57.792 0 79.872L551.936 751.552c-22.08 22.016-57.792 22.016-79.872 0z",fill:"#aaa"}),he=function(e){return c.a.createElement("svg",fe({className:"arrow_down_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),de,pe)},ve=a(17),Ee=me()("/channel/:rid"),be=function(e){var t=Object(se.c)(Object(n.useCallback)((function(e){return e.channelBar}),[])),a=t.channelBarList,r=void 0===a?[]:a,i=t.channelBarMap,o=void 0===i?{}:i,l=Object(n.useState)(!1),s=Object(u.a)(l,2),m=s[0],f=s[1],d=Ee.exec(e.location.pathname),p=0;d&&(p=parseInt(d[1])),Object(n.useEffect)((function(){var e=document.querySelector("#rid"+p);e&&e.scrollIntoView(!0)}),[p,o]);var h=o[p]||{},v=h.children||[];h.isParent||(v=(o[h.parentId]||{}).children||[]);var E=function(e,t){return e===p||(t.childrenIds||[]).includes(p)},b=function(t){e.history.push(t),e.cacheData()};return c.a.createElement("div",{className:"channel-bar-container"},"\u9996\u9875"!==h.typename&&c.a.createElement(ve.Helmet,null,c.a.createElement("title",null,h.typename)),c.a.createElement(ve.Helmet,null),c.a.createElement("div",{className:"first-class-channel-container"},c.a.createElement("div",{className:"tab-bar-container"},c.a.createElement("div",{className:"tab-bar-scroll-container"},r.map((function(e){var t=e.tid;return c.a.createElement("a",{onClick:function(){return b(0===t?"/index":"/channel/".concat(t))},key:t,className:"first-class-tab-item",id:"rid".concat(t)},c.a.createElement("p",{className:E(t,e)?"selected-tab":""},e.typename))})))),c.a.createElement("div",{className:"arrow-container",onClick:function(){return f(!0)}},c.a.createElement(he,null))),!K(v)&&c.a.createElement("div",{className:"second-class-channel-container"},c.a.createElement("div",{className:"tab-bar-container"},c.a.createElement("div",{className:"tab-bar-scroll-container"},v.map((function(e){var t=e.tid;return c.a.createElement("a",{onClick:function(){return b("/channel/".concat(t))},key:t,className:"tab-item"},c.a.createElement("p",{className:E(t,e)?"selected-tab":""},e.typename))}))))),c.a.createElement("div",{className:"fixed-first-class-container ".concat(m?"open":"")},c.a.createElement("div",null,r.map((function(t){var a=t.tid;return c.a.createElement("a",{onClick:function(){return function(t){f(!1),e.history.push(0===t?"index":"/channel/".concat(t)),e.cacheData()}(a)},key:a,className:"tab-item ".concat(t.typename.length>2?"three-word":"")},c.a.createElement("p",{className:E(a,t)?"selected-tab":""},t.typename))}))),c.a.createElement("div",{className:"arrow-container",onClick:function(){return f(!1)}},c.a.createElement(he,{className:"normal-arrow-size arrow-up"}))))};be.defaultProps={cacheData:function(){}};var ge=Object(oe.g)(be);a(54),a(55);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var ye=c.a.createElement("defs",null,c.a.createElement("style",null)),Ae=c.a.createElement("path",{d:"M810.667 810.667H213.333V213.333h597.334m0-85.333H213.333A85.333 85.333 0 00128 213.333v597.334A85.333 85.333 0 00213.333 896h597.334A85.333 85.333 0 00896 810.667V213.333A85.333 85.333 0 00810.667 128m-384 213.333v341.334L640 512 426.667 341.333z",fill:"#fff"}),je=function(e){return c.a.createElement("svg",Oe({className:"play-box-outline_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),ye,Ae)};function we(){return(we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ne=c.a.createElement("defs",null,c.a.createElement("style",null)),ke=c.a.createElement("path",{d:"M800 128H224c-89.6 0-160 70.4-160 160v448c0 89.6 70.4 160 160 160h576c89.6 0 160-70.4 160-160V288c0-89.6-70.4-160-160-160zm96 608c0 54.4-41.6 96-96 96H224c-54.4 0-96-41.6-96-96V288c0-54.4 41.6-96 96-96h576c54.4 0 96 41.6 96 96v448z",fill:"#fff"}),Ce=c.a.createElement("path",{d:"M240 384h64v64h-64zm128 0h384v64H368zm64 192h352v64H432zm-128 0h64v64h-64z",fill:"#fff"}),Pe=function(e){return c.a.createElement("svg",we({className:"danmushu_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),Ne,ke,Ce)};function Me(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Me(a,!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Se(e){var t=e.style,a=e.src,r=e.className,i=Object(n.useRef)(),o=Object(n.useRef)(!1),l=Object(n.useRef)();Object(n.useEffect)((function(){return s(),window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[a]);var s=function(){o.current||(clearTimeout(l.current),l.current=setTimeout((function(){u()&&(i.current.src=a,o.current=!0)}),300))},u=function(){var e=i.current;if(e)return e.getBoundingClientRect().top<=window.innerHeight};return c.a.createElement(n.Fragment,null,c.a.createElement("img",{style:Be({width:"100%",height:"100%"},t),alt:"",ref:i,src:"",className:r}))}Se.defaultProps={style:{},src:""};var Ie=Se;function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var xe=c.a.createElement("g",{fill:"#ccc"},c.a.createElement("path",{d:"M2510 4605c-14-7-37-36-50-64-16-31-32-50-42-51-36 0-241-48-248-58-3-4-20-15-39-26-56-31-139-124-174-195l-32-66-3-694c-2-471 1-712 8-747 19-93 108-209 209-273 87-56 139-65 429-71l263-5-116-116c-96-97-115-122-115-147 0-45 30-90 68-103 70-23 87-12 283 186l183 185h340l186-184c119-119 195-187 213-192 70-17 137 35 137 107 0 28-16 48-117 150l-116 118 259 3c213 3 270 7 319 21 142 43 277 173 311 302 21 76 20 1412 0 1480-16 51-69 137-107 172-50 47-85 73-104 79-10 4-25 12-32 20-7 7-39 17-71 23-31 6-76 15-100 21-23 5-53 10-67 10s-25 5-25 11c0 27-36 83-64 100-23 14-50 19-103 19-67 0-75-2-108-31-19-17-35-40-35-50s-4-19-10-19c-5 0-10-7-10-15 0-13-65-15-527-15h-528l-19 46c-26 64-62 84-151 84-40-1-81-7-95-15zm1758-449c15-8 38-27 52-43l25-28V2775l-22-25c-13-13-23-27-23-31s-21-19-46-33l-47-26h-923c-535 0-924 4-924 9s-11 11-23 15c-35 8-76 53-86 95-6 22-7 275-3 667l7 630 29 35c15 19 40 39 55 46 20 9 254 12 964 13 787 0 942-2 965-14z"}),c.a.createElement("path",{d:"M3083 3903c-13-2-23-8-23-13 0-4-11-11-24-14s-45-29-70-57c-39-44-46-57-46-93 0-51 13-66 59-66 31 0 42 7 79 50 36 42 49 50 77 50 18 0 41-3 50-6 15-6 95-120 95-136 0-4 9-8 19-8 12 0 29 17 46 48 45 78 73 102 118 102 38 0 62-17 115-84 7-9 27-16 47-16 45 0 70 35 61 83-7 38-80 121-117 132-13 4-27 12-30 17s-29 11-58 15c-45 5-61 2-112-22-32-16-59-33-59-38 0-6-8-3-17 5-50 44-137 65-210 51zM2435 3358c-3-18-10-55-16-83-6-27-12-68-13-90l-1-40 115-21c63-11 122-23 130-27 8-3 65-13 125-22 61-9 119-20 130-25s36-11 56-15c44-7 43-7 69 138l16 99-23 9c-14 5-35 9-47 9s-26 3-30 8c-4 4-65 17-134 29-70 12-172 31-227 42-139 28-143 28-150-11zM4000 3369c-52-11-147-28-210-39s-124-24-135-29-37-12-59-15c-21-3-41-8-44-10-3-3 3-59 14-123l19-118 40 2c22 2 49 7 60 12 11 6 70 17 130 26 61 9 119 20 130 24 11 5 67 17 125 26 106 16 140 32 124 57-5 7-16 56-24 108-15 95-15 95-45 97-16 1-73-7-125-18z"})),De=function(e){return c.a.createElement("svg",ze({width:660,height:660,viewBox:"0 0 6600 6600"},e),xe)};function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Le=function(e){var t=e.style,a=e.isRelated,n=e.data;-1===n.pic.indexOf("@320w_200h")&&(n.pic=q(n.pic,"@320w_200h"));var r=a?n.stat.view:n.play,i=a?n.stat.danmaku:n.video_review;return c.a.createElement("div",{className:"video-card-container",style:He({},t)},c.a.createElement("a",{onClick:function(){return t="/video/".concat(n.aid),e.history.push(t),void e.cacheData();var t},className:"link-to-video"},c.a.createElement("div",{className:"img-container"},c.a.createElement(Ie,{src:n.pic,className:"img"}),c.a.createElement(De,{className:"no-img-icon"}),r||i?c.a.createElement("div",{className:"play-view-container"},!!r&&c.a.createElement("div",null,c.a.createElement(je,{className:"icon"}),c.a.createElement("span",{className:"text"},_(r))),!!i&&c.a.createElement("div",null,c.a.createElement(Pe,{className:"icon"}),c.a.createElement("span",{className:"text"},_(i)))):null),c.a.createElement("div",{className:"title-container"},n.title)))};Le.defaultProps={data:[],style:{},isRelated:!1,cacheData:function(){}};var Qe=Object(oe.g)(Le),Re=a(8);function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var Ge=c.a.createElement("defs",null,c.a.createElement("style",null)),Fe=c.a.createElement("path",{d:"M723.1 483.4c-1.3-1.3-2.6-2.4-4-3.4L355.9 116c-14.6-14.6-38.4-14.6-53 0-14.6 14.6-14.6 38.5 0 53.1l340.4 341.2L302.9 851c-14.6 14.6-14.6 38.4 0 53 14.6 14.6 38.4 14.6 53 0l362.9-363.3c1.5-1.1 2.9-2.3 4.3-3.7 7.4-7.4 11-17.1 10.9-26.8.1-9.7-3.6-19.4-10.9-26.8z",fill:"#aaa"}),Ue=function(e){return c.a.createElement("svg",Ve({className:"right_svg__icon",viewBox:"0 0 1024 1024",width:200,height:200},e),Ge,Fe)},Ze=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],i=a[1],o=e.data,m=o.typename,f=o.fetchFunc,d=o.limit,p=o.tid,h=o.currentPage,v=o.loadMoreComponent,E=e.isParent;return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({rid:p,page:h});case 2:if(t=e.sent,!h){e.next=6;break}return i(r.concat(t.data)),e.abrupt("return");case 6:i(t.data||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p,h]),d&&(r=r.slice(0,d)),c.a.createElement("div",{className:"channel-video-area"},c.a.createElement("div",{className:"top-type-title-container"},c.a.createElement("div",{className:"title"},"\u63a8\u8350"===m?"\u70ed\u95e8\u63a8\u8350":m),c.a.createElement("div",{className:"title-right"},E&&c.a.createElement(Re.b,{to:"/channel/"+p},c.a.createElement("div",{className:"text"},"\u67e5\u770b\u66f4\u591a"),c.a.createElement("div",{style:{display:"inline-block"}},c.a.createElement(Ue,{className:"arrow-right"}))))),c.a.createElement("div",{className:"video-container"},K(r)?c.a.createElement("div",{className:"loading-container"},"\u52a0\u8f7d\u4e2d..."):r.map((function(e){return c.a.createElement(Qe,{data:e,key:e.aid})}))),v)};Ze.defaultProps={data:{},currentPage:1,fetchFunc:function(){},isParent:!0};var Ye=Ze;a(56);function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(a,!0).forEach((function(t){Object(J.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xe=me()("/channel/:rid");var Ke=Object(oe.g)((function(e){var t=Object(se.c)(Object(n.useCallback)((function(e){return e.channelBar}),[])),a=(t.channelBarList,t.channelBarMap),r=void 0===a?{}:a,i=Object(n.useState)([]),o=Object(u.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(1),f=Object(u.a)(m,2),d=f[0],p=f[1],h=Xe.exec(e.location.pathname),v=0;h&&(v=parseInt(h[1]));var E=r[v];Object(n.useEffect)((function(){E&&(E.isParent?b():g())}),[v,r,d]);var b=function(){var e=[];E.children.forEach((function(t){e.push(We({},t,{fetchFunc:F,typename:t.typename,limit:4}))})),s(e)},g=function(){var e=[We({},E,{fetchFunc:F,typename:"\u70ed\u95e8\u63a8\u8350",tid:E.tid,limit:4}),We({},E,{fetchFunc:U,typename:"\u6700\u65b0\u89c6\u9891",tid:E.tid,currentPage:d,limit:!1,loadMoreComponent:c.a.createElement("div",{className:"load-more-container"},c.a.createElement("span",{onClick:O},"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a"))})];s(e)},O=function(){p(d+1)};return c.a.createElement("div",{className:"channel-container"},c.a.createElement(ge,null),l.map((function(e){return c.a.createElement(Ye,{key:e.typename+e.tid,data:e,isParent:E.isParent})})))})),qe=a(28),_e=(a(57),function(e){var t=Object(n.useRef)(null),a=Object(n.useRef)(0),r=Object(n.useRef)(null),i=Object(n.useRef)(!1),o=Object(n.useState)(0),l=Object(u.a)(o,2),s=l[0],m=l[1],f=Object(n.useState)(e.autoPlay),d=Object(u.a)(f,2),p=d[0],h=d[1],v=Object(n.useState)(1),E=Object(u.a)(v,2),b=E[0],g=E[1],O=Object(n.useState)(null),y=Object(u.a)(O,2),A=y[0],j=y[1],w=c.a.Children.count(e.children),N=w>1?w+2:w,k=w>1&&e.infinite,C=e.autoPlayTime,P=e.duration+"s";t.current&&t.current.offsetWidth;Object(n.useEffect)((function(){return p&&s&&w>1&&(r.current&&clearTimeout(r.current),r.current=setTimeout((function(){t.current.style.transition="none",B(0),setTimeout((function(){S("left",s,s/2)}),0)}),C)),function(){clearTimeout(r.current)}})),Object(n.useEffect)((function(){return t.current.addEventListener("touchstart",z),t.current.addEventListener("touchmove",x),t.current.addEventListener("touchend",D),window.addEventListener("resize",M),1===w&&g(0),function(){t.current.removeEventListener("touchstart",z),t.current.removeEventListener("touchmove",x),t.current.removeEventListener("touchend",D),window.removeEventListener("resize",M)}})),Object(n.useEffect)((function(){M()}),[N]),Object(n.useEffect)((function(){s&&B(0,w<=1?0:1)}),[s,e.children]),Object(n.useEffect)((function(){if(s){var t=null,a=null,n=c.a.Children.map(e.children,(function(e,n){e=c.a.cloneElement(e,{style:{width:"100%",height:"100%",display:"inline-block"}});var r=c.a.createElement("div",{key:n+1,style:{width:s},className:"carousel-item"},e);return 0===n&&w>1&&(t=c.a.cloneElement(r,{key:0})),n===w-1&&w>1&&(a=c.a.cloneElement(r,{key:w+1})),r})),r=[a].concat(Object(qe.a)(n),[t]);j(r)}}),[s,e.children]);var M=function(){var e=t.current.offsetWidth/N;N||(e=0),m(e)},B=function(e,a){var n=-(a=a||b)*s+e;t.current.style.transform="translateX(".concat(n,"px)")},S=function(e,a,n){i.current=!0,t.current.style.transition="transform ".concat(P);var c="left"===e?b+1:b-1;a=Math.abs(a),(c>N-1||c<0||Math.abs(n)<s/4)&&(c=b,a=0),B("left"===e?-a:a),k&&(0===c&&I(N-2),c===N-1&&I(1)),g(c),i.current=!1},I=function(e){setTimeout((function(){g(e)}),0)},z=function(e){e.stopPropagation(),clearTimeout(r.current),h(!1),t.current.style.transition="none",a.current=e.changedTouches[0].pageX,B(0)},x=function(e){e.stopPropagation(),e.preventDefault();var t=e.changedTouches[0].pageX;B(t-a.current)},D=function(e){e.stopPropagation();var t=e.changedTouches[0].pageX-a.current;S(t<0?"left":"right",s,t),a.current=0,h(!0)};return c.a.createElement("div",{className:"carousel-outer-container"},c.a.createElement("div",{className:"carousel-wrap"},c.a.createElement("div",{ref:t,className:"carousel-inner-container",style:{width:"".concat(100*N,"%")}},A)),0===w?null:c.a.createElement("div",{className:"carousel-button-wrap "},Object(qe.a)(new Array(w).keys()).map((function(e){return e=w>1?e+1:e,c.a.createElement("span",{key:e,className:"carousel-button ".concat(b===e?"selected":"")})}))))});_e.defaultProps={infinite:!0,autoPlay:!0,autoPlayTime:2e3,duration:.3};var $e=_e;a(58);function et(e,t,a,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=Object(n.useState)(e),o=Object(u.a)(i,2),l=o[0],s=o[1];Object(n.useLayoutEffect)((function(){if(c&&"POP"===c.action){var n=sessionStorage.getItem(t);n&&(n=JSON.parse(n),s(n[a]||e))}}),r);var m=Object(n.useCallback)((function(){return Object(J.a)({},a,l)}),[a,l]);return[l,s,m]}var tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(n.useLayoutEffect)((function(){var t=ae(e);return window.addEventListener("beforeunload",t),function(){return window.removeEventListener("beforeunload",t)}}),t)};a(59);function at(){return(at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var nt=c.a.createElement("image",{width:"100%",height:"100%",xlinkHref:"data:image/png;base64,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 AElFTkSuQmCC"}),ct=function(e){return c.a.createElement("svg",at({width:96,height:96},e),nt)};function rt(){return(rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var it=c.a.createElement("image",{width:"100%",height:"100%",xlinkHref:"data:image/png;base64,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"}),ot=function(e){return c.a.createElement("svg",rt({width:96,height:96},e),it)};a(60);function lt(e){var t=e.videoInfo,a=e.className,r=Object(n.useRef)(),i=Object(n.useState)(!0),o=Object(u.a)(i,2),l=(o[0],o[1],Object(n.useState)(!1)),s=Object(u.a)(l,2),m=s[0],f=s[1],d=Object(n.useState)(!0),p=Object(u.a)(d,2),h=p[0],v=p[1];Object(n.useEffect)((function(){r.current&&(m?r.current.play():r.current.pause())}),[m]);var E;return c.a.createElement("div",{className:a},!K(t)&&c.a.createElement(n.Fragment,null,c.a.createElement("video",{height:"100%",width:"100%",preload:"auto","x5-playsinline":"true","webkit-playsinline":"true",playsInline:!0,ref:r,controls:!0,style:{display:h?"none":"block"}},c.a.createElement("source",{src:(E=t.initUrl,"".concat(x,"?video=https:").concat(encodeURIComponent(E))),type:"video/mp4"})),h&&c.a.createElement("img",{src:q(t.pic,"@480w_300h"),className:"cover-img"}),c.a.createElement("div",{className:"play-or-pause",onClick:function(){f((function(e){return!e})),v(!1)},style:{display:h?"block":"none"}},m?c.a.createElement(ct,{className:"icon"}):c.a.createElement(ot,{className:"icon"}))))}lt.defaultProps={videoInfo:{},className:"player-container"};var st=lt;a(61);function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var mt=c.a.createElement("path",{d:"M0 900V0h1800v1800H0V900z",fill:"#b0b9c0"}),ft=c.a.createElement("g",{fill:"#cbd1d8"},c.a.createElement("path",{d:"M0 900V0h1800v1800h-525l-43-133c-24-72-52-152-64-177-11-24-30-65-41-90-12-25-23-48-25-52-2-5 44-8 103-8 119 0 149-10 189-62 39-52 49-139 44-381-5-229-10-252-61-305-40-42-80-52-202-52h-99l48-49c51-52 58-84 18-89-17-3-41 15-96 67l-73 71H834l-69-70c-70-71-106-87-119-53-5 11 7 31 39 63 25 25 45 48 45 52 0 3-53 7-117 9-141 5-177 21-215 97-22 44-23 60-26 275-4 250 4 311 44 364s70 63 185 63c92 0 101 2 94 18-30 71-108 293-127 360l-23 82H0V900z"}),c.a.createElement("path",{d:"M956 1480c-12-51-26-115-26-127 0-9 17-13 50-13 34 0 50 4 50 13-1 6-16 44-34 82-30 62-34 67-40 45zM794 1423c-16-37-30-71-32-75s22-8 53-8c55 0 57 1 51 23-3 12-11 46-17 75-7 28-15 52-19 52s-20-30-36-67zM464 1267c-38-33-43-83-36-372l5-250 28-27 27-28h834l27 28 28 27 5 250c7 280 2 334-32 370l-23 25H491l-27-23zm814-23c27-8 52-52 51-91-1-23-3-20-10 14-6 23-17 47-26 55-12 10-98 14-387 18l-371 5 360 3c198 1 370-1 383-4zm-767-30c-12-15-22-41-22-58-1-18-3-24-6-13-7 25 4 62 23 81 24 25 28 19 5-10zm-24-361c-1-49-3-9-3 87s2 136 3 88c2-49 2-127 0-175zm840 0c-1-49-3-9-3 87s2 136 3 88c2-49 2-127 0-175zm-443 230c4-5 26-8 48-8 27 0 44-6 51-17 18-27 1-32-24-7l-22 22-18-24-17-23-21 24-21 25-20-24c-11-13-23-21-26-18-11 11 5 37 28 47 29 11 33 12 42 3zM671 961c77-26 139-59 139-74 0-6-4-18-9-26-12-18-78-5-163 33-56 25-65 37-52 70 8 20 19 20 85-3zm554-12c4-11 5-22 3-24-15-13-123-61-162-71-44-12-51-11-62 4-8 9-14 20-14 23 0 12 36 36 85 56 94 39 141 43 150 12zM510 666c11-14 61-16 396-16h383l12 23c7 12 16 36 20 52l7 30 1-33c1-25-7-41-28-63l-29-29H913c-197 0-367 3-379 6-27 7-54 54-53 91 1 25 2 24 8-9 4-20 13-44 21-52z"})),dt=c.a.createElement("g",{fill:"#e5e9ef"},c.a.createElement("path",{d:"M0 900V0h1800v1800h-519l-30-92c-43-135-58-174-102-267-21-46-36-87-33-92s52-9 109-9c103 0 105 0 141-32 69-61 74-82 74-358 0-261-5-301-47-350-43-52-70-60-200-60h-117l48-49c49-50 56-75 24-95-15-9-30 1-96 67l-77 77H835l-77-77c-66-66-81-76-96-67-32 20-25 45 24 95l48 49H617c-125 0-153 7-194 52-49 52-53 80-53 346 0 256 4 290 42 345 34 48 70 59 185 59 56-1 103 1 103 3s-14 34-31 72c-30 67-96 258-118 341l-12 42H0V900z"}),c.a.createElement("path",{d:"M948 1424c-16-78-13-84 45-84 45 0 46 6 3 89l-33 64-15-69zM796 1419c-14-33-24-65-20-70 6-10 54-12 77-4 12 5 12 14-2 65-9 32-19 61-22 65-3 3-18-22-33-56zM468 1261l-33-29V648l33-29 32-29h810l32 29 33 29v581l-29 30-30 31H500l-32-29zm839-33c23-21 23-22 23-287 0-258-1-265-22-288l-21-23H906c-376 0-380 0-403 22-23 21-23 22-23 287 0 258 1 265 22 288l21 23h381c376 0 380 0 403-22z"}),c.a.createElement("path",{d:"M870 1233c-310-3-346-5-357-20-10-12-13-84-13-273 0-236 1-258 18-273s58-17 389-17c346 0 371 1 386 18 15 16 17 50 17 273 0 189-3 259-12 271-18 22-42 23-428 21zm18-155c9-9 15-9 24 0 19 19 42 14 67-12 27-29 10-47-20-20-18 16-20 16-40-2s-22-18-34-1c-15 21-44 22-51 2-6-15-34-22-34-8 0 4 10 17 22 30 24 25 48 29 66 11zM739 938c69-35 87-62 56-88-13-10-27-8-88 14-86 31-137 61-137 79 0 47 69 46 169-5zm479 30c28-28 13-49-63-84-91-42-130-51-150-34-31 26-18 50 43 77 58 26 128 51 148 52 5 1 15-4 22-11z"})),pt=function(e){return c.a.createElement("svg",ut({width:180,height:180,viewBox:"0 0 1800 1800"},e),mt,ft,dt)};function ht(e){var t=e.data;return c.a.createElement("div",{className:"comment-list-item-container"},c.a.createElement("div",{className:"user-avatar-container"},c.a.createElement(pt,{className:"no-avatar"}),c.a.createElement(Ie,{className:"avatar",src:q(t.member.avatar,"@320w_200h")})),c.a.createElement("div",{className:"user-name-comment-container"},c.a.createElement("div",{className:"user-name-container"},c.a.createElement("span",{className:"user-name"},t.member.uname),c.a.createElement("span",{className:"comment-publish-date"},$(t.ctime))),c.a.createElement("div",{className:"comment-container"},c.a.createElement("span",null,t.content.message))))}ht.defaultProps={data:{}};var vt=ht;a(62);function Et(e){var t=e.aid,a=Object(n.useState)(1),r=Object(u.a)(a,2),i=r[0],o=r[1],m=Object(n.useState)([]),f=Object(u.a)(m,2),d=f[0],p=f[1],h=Object(n.useState)({}),v=Object(u.a)(h,2),E=v[0],b=v[1],g=Object(n.useRef)(!1);function O(e,t){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.fetchCommentData({aid:t,pn:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(n.useEffect)((function(){o(1),p([]),b({})}),[t]),Object(n.useEffect)((function(){g.current=!0,function(){var e=Object(s.a)(l.a.mark((function e(){var a,n,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t,i);case 2:a=e.sent,n=a.data||{},c=n.replies||[],r=n.page||{},p((function(e){return e.concat(c)})),b(r),g.current=!1;case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t,i]);return c.a.createElement("div",{className:"comment-list-container"},c.a.createElement("div",{className:"comment-top-title"},"\u8bc4\u8bba",c.a.createElement("span",{className:"total-num"},"\uff08",E.acount||0,"\uff09")),c.a.createElement("div",null,K(d)?c.a.createElement("span",null,"\u52a0\u8f7d\u4e2d..."):d.map((function(e){return c.a.createElement(vt,{data:e,key:e.rpid})}))),!K(d)&&c.a.createElement("div",{className:"load-more-container",onClick:function(){g.current||o((function(e){return e+1}))}},c.a.createElement("span",null,"\u70b9\u51fb\u52a0\u8f7d\u66f4\u591a")))}Et.defaultProps={data:[],pageInfo:{}};var bt=Et;var gt=Object(oe.g)((function(e){var t=e.match.params.aid,a="video/".concat(t),r=e.history,i=et({},a,"videoInfo",r,[a]),o=Object(u.a)(i,3),m=o[0],f=o[1],d=o[2],p=et([],a,"relatedVideo",r,[a]),h=Object(u.a)(p,3),v=h[0],E=h[1],b=h[2],g=et(!1,a,"descOpen",r,[a]),O=Object(u.a)(g,3),y=O[0],A=O[1],j=O[2];tt(a,[a]);var w=function(){f({}),E([])};Object(n.useLayoutEffect)((function(){ee(w,r,a)}),[t]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.fetchVideoInfo({aid:t});case 2:a=e.sent,f(a.data.videoInfo);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ee((function(){return e.apply(this,arguments)}),r,a)}),[t,r,a]),Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.fetchRelated({aid:t});case 2:a=e.sent,E(a.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}ee((function(){return e.apply(this,arguments)}),r,a)}),[t]);var N=function(){te(a,[d,b,j])};return console.log(m,"videoInfo"),c.a.createElement("div",{className:"video-container",key:e.location.pathname},c.a.createElement(ve.Helmet,null,c.a.createElement("title",null,m.title)),c.a.createElement(st,{videoInfo:m,className:"player-container"}),c.a.createElement("div",{className:"video-desc"},K(m)?c.a.createElement("span",null,"\u52a0\u8f7d\u4e2d..."):c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"title-container"},c.a.createElement("div",{className:"title ".concat(y?"open":"")},m.title),c.a.createElement(he,{className:"arrow rotate-animation ".concat(y?"arrow-up":""),onClick:function(){return A(!y)}})),c.a.createElement("div",{className:"detail-container ".concat(y?"open":"")},c.a.createElement("div",null,c.a.createElement("span",{className:"owner"},m.owner.name),c.a.createElement("span",{className:"view"},_(m.stat.view),"\u6b21\u89c2\u770b"),c.a.createElement("span",{className:"danmu"},m.stat.danmaku,"\u5f39\u5e55"),c.a.createElement("span",{className:"date"},$(m.pubdate))),c.a.createElement("div",{className:"warning-text"},"\u672a\u7ecf\u4f5c\u8005\u6388\u6743\u7981\u6b62\u8f6c\u8f7d"),c.a.createElement("p",{className:"desc-detail"},m.desc),c.a.createElement("div",{className:"bread-crumbs"},c.a.createElement(Re.b,{to:"/index",className:"bread-item"},"\u4e3b\u9875"),c.a.createElement(Re.b,{to:"/channel/".concat(m.reid),className:"bread-item"},m.toptype),c.a.createElement(Re.b,{to:"/channel/".concat(m.tid),className:"bread-item"},m.tname),c.a.createElement("span",{className:"desc-detail"},"av",t))))),c.a.createElement("div",{className:"related-video-container"},v.slice(0,20).map((function(e){return c.a.createElement(Qe,{data:e,key:e.aid,isRelated:!0,cacheData:N})}))),c.a.createElement(bt,{aid:t}))}));a(63);function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var yt=c.a.createElement("g",{fill:"#999"},c.a.createElement("path",{d:"M328 941C183 894 59 767 16 621c-21-71-21-211 0-282C59 191 184 65 331 19c82-26 216-26 298 0 147 46 272 172 315 320 21 71 21 211 0 282-43 148-168 274-315 320-81 25-222 25-301 0zm299-69c197-75 311-290 259-492C805 63 416-45 185 185c-270 270-66 731 315 711 41-2 98-13 127-24z"}),c.a.createElement("path",{d:"M570 582c-58-20-111-41-118-45-9-6-12-56-12-181 0-146 3-176 16-187 11-9 20-10 32-2 15 9 17 33 20 166l3 156 110 36c106 36 110 38 107 64-4 38-34 36-158-7z"})),At=function(e){return c.a.createElement("svg",Ot({width:96,height:96,viewBox:"0 0 960 960"},e),yt)};function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var wt=c.a.createElement("path",{d:"M295 827C177 788 88 710 37 602 7 539 5 529 5 420s2-119 32-182C78 150 150 78 238 37 301 7 311 5 420 5s119 2 182 32c88 41 160 113 201 201 30 63 32 73 32 182s-2 119-32 182c-41 88-113 160-201 201-59 28-79 32-167 34-63 2-115-2-140-10z",fill:"#ccc"}),Nt=c.a.createElement("path",{d:"M252 588c-20-20-15-30 55-100l67-68-68-69c-47-48-67-74-63-85 15-38 38-29 108 40l69 68 69-68c48-47 74-67 85-63 38 15 29 38-40 108l-68 69 68 69c69 70 78 93 40 108-11 4-37-16-85-63l-69-68-68 67c-70 70-80 75-100 55z",fill:"#fefefe"}),kt=function(e){return c.a.createElement("svg",jt({width:84,height:84,viewBox:"0 0 840 840"},e),wt,Nt)},Ct=(a(64),{media_bangumi:function(e){},bili_user:function(e){return c.a.createElement(n.Fragment,null,e.map((function(e){return c.a.createElement("div",{className:"bili-user-item",key:e.id},c.a.createElement("div",{className:"user-icon"},c.a.createElement(Ie,{src:q(e.upic,"@320w_200h")})),c.a.createElement("div",{className:"user-desc"},c.a.createElement("span",{className:"user-name"},e.uname),c.a.createElement("div",{className:"user-fans-and-videos"},c.a.createElement("span",null,"\u7c89\u4e1d\uff1a",_(e.fans)),c.a.createElement("span",null,"\u89c6\u9891\uff1a",_(e.videos)))))})),!K(e)&&c.a.createElement("div",{className:"end"},c.a.createElement("img",{src:"static/img/end.png"}),c.a.createElement("div",null,"\u5237\u5230\u5e95\u4e86\u54df\uff0c\u4ece\u5934\u518d\u6765\u5427 ~")))},media_ft:function(e){},renderOrder:function(e){return c.a.createElement(n.Fragment,null,e.map((function(e){return c.a.createElement(Re.b,{className:"search-all-item",key:e.id,to:"/video/"+e.id},c.a.createElement("div",{className:"video-cover"},c.a.createElement(Ie,{src:q(e.pic,"@480w_300h")})),c.a.createElement("div",{className:"video-desc"},c.a.createElement("div",{className:"video-title",key:e.id,dangerouslySetInnerHTML:{__html:e.title}}),c.a.createElement("div",{className:"video-author"},c.a.createElement("img",{src:"static/img/ico_up.png",className:"icon"}),e.author),c.a.createElement("div",{className:"play-and-danmushu"},c.a.createElement("span",null,c.a.createElement("img",{src:"static/img/ico_play.png",className:"icon"}),_(e.play)),c.a.createElement("span",null,c.a.createElement("img",{src:"static/img/ico_danmu.png",className:"icon"}),_(e.video_review)))))})),!K(e)&&c.a.createElement("div",{className:"end"},c.a.createElement("img",{src:"static/img/end.png"}),c.a.createElement("div",null,"\u5237\u5230\u5e95\u4e86\u54df\uff0c\u4ece\u5934\u518d\u6765\u5427 ~")))}}),Pt=Object(oe.g)((function(e){var t=e.isActive,a=e.tabData,r=e.setPageInfo,i=Object(n.useState)(!1),o=Object(u.a)(i,2),m=o[0],f=o[1],d=Object(n.useState)({}),p=Object(u.a)(d,2),h=p[0],v=p[1],E=Object(n.useState)("totalrank"),b=Object(u.a)(E,2),g=b[0],O=b[1],y=Object(n.useState)(1),A=Object(u.a)(y,2),j=A[0],w=(A[1],Object(n.useState)(20)),N=Object(u.a)(w,2),k=N[0],C=(N[1],Object(n.useState)(!0)),P=Object(u.a)(C,2),M=P[0],B=P[1],S=e.location.search,I=Object(n.useMemo)((function(){return S.split("=")[1]||""}),[S]);Object(n.useLayoutEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var n,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.children||!t||m){e.next=17;break}if(B(!0),n=[],!a.order||"totalrank"!==a.order){e.next=9;break}return e.next=6,Z.getAllSearchResult({pageSize:k,page:j,keyword:I,order:a.order,searchType:"all"});case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,Z.getTypeSearchResult({pageSize:k,page:j,keyword:I,searchType:a.type||"video",order:a.order});case 11:n=e.sent;case 12:f(!0),c=n.data||{},"totalrank"===a.order&&r(c.pageinfo||{}),v(c),B(!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[I,j,k,t,m]),Object(n.useEffect)((function(){!m&&t&&f(!0)}),[m,t]);var z=function(){if(a.order&&"totalrank"===a.order){var e=[];return(h.result||[]).forEach((function(t){"video"===t.result_type&&(e=t.data||[])})),e}return h.result||[]}();return console.log(M,"data"),c.a.createElement("div",{className:"search-result-pane ".concat(t?"active":"inactive")},m?a.children?c.a.createElement("div",null,c.a.createElement("div",{className:"search-result-sub-header"},a.children.map((function(e){return c.a.createElement("div",{className:"search-result-sub-header-item ".concat(g===e.order?"selected":""),onClick:function(){return t=e.order,void O(t);var t},key:e.title},e.title)}))),a.children.map((function(e){return c.a.createElement(Pt,{isActive:g===e.order,tabData:e,setPageInfo:r,key:e.title})}))):K(z)&&!M?c.a.createElement("div",{className:"not-found"},c.a.createElement("img",{src:"static/img/notFound.png"}),c.a.createElement("div",null,"\u4ec0\u4e48\u90fd\u6ca1\u6709\u627e\u5230\u554a T_T")):c.a.createElement("div",{className:"search-result-content"},a.order?Ct.renderOrder(z):Ct[a.type](z)):null)}));Pt.defaultProps={tabData:{},isActive:!1,setPageInfo:function(){}};var Mt=Pt,Bt=(a(65),[{title:"\u7efc\u5408",type:"all",children:[{title:"\u9ed8\u8ba4\u6392\u5e8f",order:"totalrank"},{title:"\u64ad\u653e\u591a",order:"click"},{title:"\u65b0\u53d1\u5e03",order:"pubdate"},{title:"\u5f39\u5e55\u591a",order:"dm"}]},{title:"\u756a\u5267",type:"media_bangumi"},{title:"UP\u4e3b",type:"bili_user"},{title:"\u5f71\u89c6",type:"media_ft"}]);var St=function(){var e=Object(n.useState)("all"),t=Object(u.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)({}),o=Object(u.a)(i,2),l=o[0],s=o[1];return console.log(l,"pageInfo"),c.a.createElement("div",null,c.a.createElement("div",{className:"search-result-header"},Bt.map((function(e){var t="";if("all"!==e.type){var n=(l[e.type]||{}).total||0;t="(".concat(n,")")}return c.a.createElement("div",{className:"search-result-header-item ".concat(a===e.type?"selected":""),onClick:function(){return t=e.type,void r(t);var t},key:e.title},e.title,t)}))),Bt.map((function(e){return c.a.createElement(Mt,{tabData:e,isActive:e.type===a,setPageInfo:s,key:e.title})})))},It=0;var zt=[{path:"/index",component:function(e){var t=e.history,a=et([],"index","locData",t),r=Object(u.a)(a,3),i=r[0],o=r[1],m=r[2],f=et([],"index","rankingData",t),d=Object(u.a)(f,3),p=d[0],h=d[1],v=d[2];tt("index");var E=Object(n.useCallback)((function(){te("index",[m,v])}),[m,v]);return Object(n.useEffect)((function(){return ne.on(ce,E),function(){return ne.remove(ce,E)}}),[E]),Object(n.useState)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.fetchLoc();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)}))),t,"index");case 1:case"end":return e.stop()}}),e)}))),[i,t]),Object(n.useState)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.fetchIndexRanking();case 2:t=e.sent,h(t.data);case 4:case"end":return e.stop()}}),e)}))),t,"index");case 1:case"end":return e.stop()}}),e)}))),[p,t]),c.a.createElement("div",{className:"channel-index video-card-area"},c.a.createElement(ge,{cacheData:E}),c.a.createElement($e,null,i.map((function(e){return c.a.createElement("a",{href:e.url,key:e.id},c.a.createElement("img",{alt:"",src:q(e.pic,"@480w_300h")}))}))),c.a.createElement("div",{className:"index-video-area-container"},p.map((function(e){return c.a.createElement(Qe,{data:e,key:e.aid,cacheData:E})}))))}},{path:"/channel/:rid",component:Ke},{path:"/video/:aid",component:gt},{path:"/search",component:Object(oe.g)((function(e){var t=e.history,a=Object(n.useState)([]),r=Object(u.a)(a,2),i=r[0],o=r[1],m=Object(n.useState)(""),f=Object(u.a)(m,2),d=f[0],p=f[1],h=Object(n.useState)(0),v=Object(u.a)(h,2),E=v[0],g=v[1],O=Object(n.useState)(""),y=Object(u.a)(O,2),A=y[0],j=y[1],w=Object(n.useState)([]),N=Object(u.a)(w,2),k=N[0],C=N[1],P=Object(n.useState)(!1),M=Object(u.a)(P,2),B=M[0],S=M[1],I=Object(n.useState)(!1),z=Object(u.a)(I,2),x=z[0],D=z[1],T=Object(n.useState)([]),H=Object(u.a)(T,2),L=(H[0],H[1]),Q=Object(n.useState)(0),R=Object(u.a)(Q,2),V=R[0],G=R[1],F=e.location.search,U=function(e){var t=!1;e&&(t=!0),j(e),S(t)};Object(n.useEffect)((function(){var e=F.split("=")[1]||"";U(decodeURI(e)),e&&(D(!0),S(!1))}),[F,V]),Object(n.useEffect)((function(){(function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getHotWord();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getSearchDefault();case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})))()}),[]);var Y,J,W=function(){return JSON.parse(localStorage.getItem(re)||"[]")},X=function(e){return function(){var t=W();t.includes(e)||(t.unshift(e),localStorage.setItem(re,JSON.stringify(t.slice(0,6))),g((function(e){return e+1}))),q(e)}},K=function(e){t.replace("/search?keyword="+e)},q=function(e){K(e),G((function(e){return e+1}))},_=Object(n.useCallback)((Y=function(e){if(e){var t=++It;Z.getSuggest(e).then((function(e){t===It&&C(e.data.tag||[])}))}else C([])},J=100,function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];clearTimeout(null),setTimeout((function(){Y.apply(void 0,t)}),J)}),[]),$=Object(n.useMemo)((function(){return W()}),[E]);return c.a.createElement("div",{className:"search-page"},c.a.createElement("div",{className:"fixed-search-container"},c.a.createElement("div",{className:"search-input-container"},c.a.createElement(b,{className:"search-icon"}),c.a.createElement("input",{className:"search-input",value:A,placeholder:d.show_name,onChange:function(e){_(e.target.value),D(!1),U(e.target.value)},onKeyDown:function(e){13===e.keyCode&&K(A)}}),!!A&&c.a.createElement("div",{className:"close-search-icon",onClick:function(){U(""),D(!1),L([])}},c.a.createElement(kt,null))),c.a.createElement("div",{className:"cancel-button",onClick:function(){t.goBack()}},"\u53d6\u6d88")),!x&&!B&&c.a.createElement("div",{className:"search-content"},c.a.createElement("div",{className:"hot-word-container"},c.a.createElement("div",{className:"label"},"\u5927\u5bb6\u90fd\u5728\u641c"),c.a.createElement("div",{className:"hot-word-area"},i.map((function(e){return c.a.createElement("div",{className:"hot-word-item",key:e.keyword,onClick:X(e.keyword)},e.keyword)})))),c.a.createElement("div",{className:"search-history-container"},c.a.createElement("div",{className:"label"},"\u5386\u53f2\u641c\u7d22"),$.map((function(e){return c.a.createElement("div",{className:"search-history-item",key:e,onClick:function(){return q(e)}},c.a.createElement(At,{className:"history-icon"}),c.a.createElement("span",null,e))})),c.a.createElement("div",{className:"clear-history-container",onClick:function(){localStorage.removeItem(re),g((function(e){return e+1}))}},0!==$.length&&c.a.createElement("span",null,"\u6e05\u9664\u5386\u53f2\u8bb0\u5f55")))),B&&c.a.createElement("div",{className:"suggest-area"},k.map((function(e){return c.a.createElement("div",{className:"suggest-item",dangerouslySetInnerHTML:{__html:e.name},key:e.value,onClick:X(e.value)})}))),x&&c.a.createElement(St,null))}))}];var xt=function(){return c.a.createElement(oe.d,null,zt.map((function(e){return c.a.createElement(oe.b,{key:e.path,exact:void 0===e.exact||e.exact,component:e.component,path:e.path})})),c.a.createElement(oe.a,{from:"/",to:"/index",exact:!0}))},Dt={SET_CHANNEL_BAR:"SET_CHANNEL_BAR",FETCH_CHANNEL_BAR:"FETCH_CHANNEL_BAR"};function Tt(e){return{type:Dt.SET_CHANNEL_BAR,channelBar:e}}var Ht=Object(oe.g)((function(e){var t=e.location,a=Object(se.b)();return Object(n.useEffect)((function(){a({type:Dt.FETCH_CHANNEL_BAR})}),[a]),Object(n.useEffect)((function(){window.addEventListener("popstate",(function(e){console.log(e,"popstate")}))})),Object(n.useEffect)((function(){window.addEventListener("beforeunload",(function(e){console.log(e,"popstate")}))})),c.a.createElement("div",null,c.a.createElement(ve.Helmet,null,c.a.createElement("title",null,"\u9ad8\u4eff\u54d4\u54e9\u54d4\u54e9-( \u309c- \u309c)\u3064\u30ed\u5e72\u676f~ - bilbili")),!ie.includes(t.pathname)&&c.a.createElement(le,null),c.a.createElement("div",{className:"content-container"},c.a.createElement(xt,null)))})),Lt=(a(66),a(67),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Qt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Rt=a(15),Vt={channelBar:{}};var Gt=Object(Rt.b)({channelBar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt.channelBar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Dt.SET_CHANNEL_BAR:return t.channelBar;default:return e}}}),Ft=a(21),Ut=l.a.mark(Yt),Zt=l.a.mark(Jt);function Yt(){var e,t;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(Ft.a)(Z.fetchChannelBar);case 2:return e=a.sent,t={},e.success&&(t=X(e.data)),a.next=7,Object(Ft.b)(Tt(t));case 7:case"end":return a.stop()}}),Ut)}function Jt(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ft.c)(Dt.FETCH_CHANNEL_BAR,Yt);case 2:case"end":return e.stop()}}),Zt)}var Wt=Jt,Xt=a(36),Kt=Object(Xt.a)(),qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Rt.c,_t=Object(Rt.d)(Gt,qt(Object(Rt.a)(Kt)));Kt.run(Wt),i.a.render(c.a.createElement(se.a.Provider,{value:_t},c.a.createElement(Re.a,null,c.a.createElement(Ht,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Lt?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Qt(t,e)}))}}()}},[[37,1,2]]]);
//# sourceMappingURL=main.d52910bd.chunk.js.map